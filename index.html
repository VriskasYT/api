<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OKAK API - –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è API –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .glass { background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 25px 50px -12px rgba(102, 126, 234, 0.25); }
        .code-block { background: #1a1b26; color: #a9b1d6; }
        .pulse-dot { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        @keyframes spin { to { transform: rotate(360deg); } }
        .spinner { animation: spin 1s linear infinite; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #1a1b2e; }
        ::-webkit-scrollbar-thumb { background: #667eea; border-radius: 4px; }
        .tab-active { background: rgba(102, 126, 234, 0.2); color: white; border-color: #667eea; }
        .fade-in { animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .sidebar-link { transition: all 0.2s; }
        .sidebar-link:hover, .sidebar-link.active { background: rgba(102, 126, 234, 0.2); color: white; }
        
        /* –§–∏–∫—Å –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .nav-fixed {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 64px;
        }
        .content-with-nav {
            padding-top: 64px;
        }
        .dashboard-content {
            padding-top: 64px;
        }
        @media (max-width: 1024px) {
            .dashboard-content {
                padding-top: 130px;
            }
        }
        @media (max-width: 640px) {
            .dashboard-content {
                padding-top: 120px;
            }
        }
        
        /* ========== –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø ========== */
        
        /* –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ */
        html {
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        
        /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑—É–º–∞ –Ω–∞ iOS */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            input, select, textarea {
                font-size: 16px !important;
            }
        }
        
        /* Touch-friendly —ç–ª–µ–º–µ–Ω—Ç—ã */
        @media (pointer: coarse) {
            button, .clickable, a {
                min-height: 44px;
            }
        }
        
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ */
        @media (max-width: 640px) {
            /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
            .nav-fixed {
                height: 56px;
            }
            .content-with-nav {
                padding-top: 56px;
            }
            
            /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
            h1 { font-size: 1.75rem !important; line-height: 1.2 !important; }
            h2 { font-size: 1.5rem !important; }
            h3 { font-size: 1.125rem !important; }
            
            /* Hero —Å–µ–∫—Ü–∏—è */
            .pt-12 { padding-top: 1.5rem !important; }
            .pb-20 { padding-bottom: 3rem !important; }
            .mb-8 { margin-bottom: 1.5rem !important; }
            .mb-10 { margin-bottom: 1.5rem !important; }
            .mb-6 { margin-bottom: 1rem !important; }
            
            /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
            .glass.rounded-2xl.p-6 { padding: 1rem !important; }
            .glass.rounded-2xl.p-8 { padding: 1.25rem !important; }
            .glass.rounded-xl.p-6 { padding: 1rem !important; }
            .glass.rounded-2xl.p-5 { padding: 0.875rem !important; }
            
            /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
            .text-3xl { font-size: 1.5rem !important; }
            .text-2xl { font-size: 1.25rem !important; }
            
            /* –ö–æ–¥ –±–ª–æ–∫–∏ */
            .code-block { 
                padding: 0.75rem !important; 
                font-size: 0.7rem !important;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            .code-block pre { font-size: 0.7rem !important; }
            
            /* –ö–Ω–æ–ø–∫–∏ */
            .px-8.py-4 { padding: 0.875rem 1.5rem !important; }
            .text-lg { font-size: 1rem !important; }
            
            /* –¢–∞–±—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ */
            .doc-tab, .docs-tab {
                padding: 0.5rem 0.75rem !important;
                font-size: 0.75rem !important;
            }
            
            /* Playground –∫–∞—Ä—Ç–æ—á–∫–∏ */
            .grid.lg\\:grid-cols-2 { gap: 1rem !important; }
            
            /* –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è */
            textarea { min-height: 100px !important; }
            
            /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
            .max-w-md, .max-w-lg { 
                max-width: 95% !important; 
                margin: 1rem !important;
            }
            .fixed.inset-0 .p-8 { padding: 1.25rem !important; }
            
            /* –§–∏—á–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
            .w-14.h-14 { width: 3rem !important; height: 3rem !important; }
            .text-2xl { font-size: 1.25rem !important; }
            
            /* –°–µ–∫—Ü–∏–∏ */
            .py-20 { padding-top: 2.5rem !important; padding-bottom: 2.5rem !important; }
            
            /* –û—Ç—Å—Ç—É–ø—ã */
            .px-4 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
            .gap-6 { gap: 1rem !important; }
            .gap-4 { gap: 0.75rem !important; }
            
            /* –ì—Ä–∏–¥—ã */
            .grid.sm\\:grid-cols-2 { grid-template-columns: 1fr !important; }
            .grid.lg\\:grid-cols-3 { grid-template-columns: 1fr !important; }
            
            /* Dashboard –º–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
            .mob-nav {
                padding: 0.5rem 0.75rem !important;
                font-size: 1rem !important;
            }
            
            /* Footer */
            footer { padding: 1.5rem 0.75rem !important; }
            footer .text-sm { font-size: 0.75rem !important; }
        }
        
        /* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
        @media (max-width: 380px) {
            h1 { font-size: 1.5rem !important; }
            .text-3xl { font-size: 1.25rem !important; }
            .glass.rounded-2xl.p-6, 
            .glass.rounded-2xl.p-8 { padding: 0.875rem !important; }
            
            /* –ö–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥ */
            .flex.flex-col.sm\\:flex-row { gap: 0.5rem !important; }
            .flex.flex-col.sm\\:flex-row button,
            .flex.flex-col.sm\\:flex-row a { 
                padding: 0.75rem 1rem !important; 
                font-size: 0.875rem !important;
            }
            
            /* –¢–∞–±—ã */
            .doc-tab, .docs-tab {
                padding: 0.4rem 0.6rem !important;
                font-size: 0.65rem !important;
            }
        }
        
        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ç–∞–±–æ–≤ */
        .flex.flex-wrap.gap-2.mb-6 {
            flex-wrap: nowrap !important;
            overflow-x: auto !important;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding-bottom: 0.5rem;
        }
        .flex.flex-wrap.gap-2.mb-6::-webkit-scrollbar {
            display: none;
        }
        
        /* Dashboard –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 1024px) {
            /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è dashboard */
            .mob-nav {
                flex-shrink: 0;
            }
            
            /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–∫—Ä—ã—Ç–∞ */
            aside.fixed { display: none !important; }
            
            /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
            main.flex-1 { margin-left: 0 !important; }
            
            /* Dashboard –∫–∞—Ä—Ç–æ—á–∫–∏ */
            #dash-overview .grid.lg\\:grid-cols-2 { grid-template-columns: 1fr !important; }
            #dash-play .grid.lg\\:grid-cols-2 { grid-template-columns: 1fr !important; }
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è code-block */
        .code-block {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Ç–∞—á —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
        @media (hover: none) {
            .card-hover:hover { 
                transform: none; 
                box-shadow: none; 
            }
            .card-hover:active {
                transform: scale(0.98);
                opacity: 0.9;
            }
        }
        
        /* Toast –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 640px) {
            #toast {
                left: 1rem !important;
                right: 1rem !important;
                bottom: 1rem !important;
            }
            #toast .glass {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 640px) {
            #authModal > div,
            #keyModal > div,
            #projModal > div {
                max-height: 90vh;
                overflow-y: auto;
                margin: 1rem;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∏–Ω–ø—É—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        input, select, textarea {
            -webkit-appearance: none;
            border-radius: 0.75rem;
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è iOS safe area */
        @supports (padding-bottom: env(safe-area-inset-bottom)) {
            body {
                padding-bottom: env(safe-area-inset-bottom);
            }
            #toast {
                bottom: calc(1rem + env(safe-area-inset-bottom)) !important;
            }
        }
        
        /* ========== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø ========== */
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö */
        @media (max-width: 768px) {
            #navLinksUser {
                display: none !important;
            }
        }
        
        /* Dashboard —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 640px) {
            #dash-overview .grid-cols-2 {
                gap: 0.5rem !important;
            }
            #dash-overview .glass.rounded-2xl.p-5 {
                padding: 0.75rem !important;
            }
            #dash-overview .text-2xl {
                font-size: 1.25rem !important;
            }
            #dash-overview .text-sm {
                font-size: 0.7rem !important;
            }
            
            /* –ì—Ä–∞—Ñ–∏–∫ */
            #chart {
                height: 100px !important;
                min-height: 100px;
            }
            #chart > div {
                font-size: 0.6rem !important;
            }
            
            /* –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è */
            .space-y-3 .p-4 {
                padding: 0.75rem !important;
            }
            .space-y-3 .text-2xl {
                font-size: 1.25rem !important;
            }
            
            /* –ö–ª—é—á–∏ –∏ –ø—Ä–æ–µ–∫—Ç—ã */
            #keysList .glass.rounded-xl {
                padding: 0.875rem !important;
            }
            #keysList .mono {
                font-size: 0.65rem !important;
                word-break: break-all;
            }
            
            /* Playground –≤ dashboard */
            #dash-play .glass.rounded-2xl {
                padding: 1rem !important;
            }
            #dash-play textarea {
                min-height: 80px !important;
            }
            
            /* –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ dashboard */
            #dash-docs .docs-tab {
                padding: 0.4rem 0.6rem !important;
                font-size: 0.65rem !important;
            }
            #dash-docs .code-block {
                font-size: 0.6rem !important;
            }
            
            /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
            #dash-settings input {
                padding: 0.75rem !important;
            }
        }
        
        /* –ï—â—ë –º–µ–Ω—å—à–µ - 360px –∏ –º–µ–Ω—å—à–µ */
        @media (max-width: 360px) {
            /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è dashboard */
            .mob-nav {
                min-width: 50px !important;
                padding: 0.25rem 0.5rem !important;
            }
            .mob-nav .text-base {
                font-size: 0.875rem !important;
            }
            .mob-nav .text-\\[10px\\] {
                font-size: 8px !important;
            }
            
            /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
            h1 { font-size: 1.25rem !important; }
            h2 { font-size: 1.125rem !important; }
            
            /* –ö–Ω–æ–ø–∫–∏ */
            button {
                padding: 0.5rem 0.75rem !important;
                font-size: 0.8rem !important;
            }
        }
        
        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ dashboard */
        .lg\\:hidden.fixed.top-14 {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .lg\\:hidden.fixed.top-14::-webkit-scrollbar {
            display: none;
        }
        
        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        button, a, .clickable {
            -webkit-tap-highlight-color: transparent;
            transition: all 0.2s ease;
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 640px) {
            .card-hover {
                transform: none !important;
            }
            .card-hover:active {
                transform: scale(0.98) !important;
                opacity: 0.9;
            }
        }
    </style>
</head>
<body class="bg-[#0f0f1a] text-white min-h-screen">
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="nav-fixed glass border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 h-full flex justify-between items-center">
            <a href="#" onclick="goHome(); return false;" class="flex items-center gap-3 flex-shrink-0">
                <div class="w-10 h-10 gradient-bg rounded-xl flex items-center justify-center font-bold text-xl">O</div>
                <span class="text-xl font-bold hidden sm:block">OKAK API</span>
            </a>
            <!-- –ì–æ—Å—Ç–µ–≤—ã–µ —Å—Å—ã–ª–∫–∏ -->
            <div id="navLinks" class="hidden md:flex gap-6 text-gray-400 text-sm">
                <a href="#features" class="hover:text-white transition cursor-pointer">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
                <a href="#docs" class="hover:text-white transition cursor-pointer">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
                <a href="#playground" class="hover:text-white transition cursor-pointer">Playground</a>
            </div>
            <!-- –°—Å—ã–ª–∫–∏ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö (–Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ) -->
            <div id="navLinksUserHome" class="hidden md:flex gap-6 text-gray-400 text-sm">
                <a href="#features" class="hover:text-white transition cursor-pointer">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
                <a href="#docs" class="hover:text-white transition cursor-pointer">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
                <a href="#playground" class="hover:text-white transition cursor-pointer">Playground</a>
            </div>
            <!-- –°—Å—ã–ª–∫–∏ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö (–≤ dashboard) -->
            <div id="navLinksUser" class="hidden md:flex gap-6 text-gray-400 text-sm">
                <a href="#" onclick="goToLanding(); return false;" class="hover:text-white transition cursor-pointer">üè† –°–∞–π—Ç</a>
                <a href="#" onclick="showDash('docs'); return false;" class="hover:text-white transition cursor-pointer">üìö –î–æ–∫–∏</a>
                <a href="#" onclick="showDash('play'); return false;" class="hover:text-white transition cursor-pointer">üéÆ –¢–µ—Å—Ç</a>
            </div>
            <div id="navButtons" class="flex items-center gap-2 flex-shrink-0"></div>
        </div>
    </nav>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–≥–æ—Å—Ç—å) -->
    <div id="guestPage" class="content-with-nav">
        <!-- Hero –¥–ª—è –≥–æ—Å—Ç–µ–π -->
        <section id="heroGuest" class="pt-12 pb-20 px-4">
            <div class="max-w-6xl mx-auto text-center">
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full glass text-sm mb-8">
                    <span class="w-2 h-2 bg-green-400 rounded-full pulse-dot"></span>
                    –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç ‚Ä¢ 100% –±–µ—Å–ø–ª–∞—Ç–Ω–æ
                </div>
                <h1 class="text-4xl sm:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
                    –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ <span class="gradient-text">API</span><br>
                    –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
                </h1>
                <p class="text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto mb-10">
                    –ò–ò-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –æ–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, 
                    QR-–∫–æ–¥—ã, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –ù–∞–≤—Å–µ–≥–¥–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="showAuth('register')" class="px-8 py-4 gradient-bg rounded-xl font-semibold text-lg hover:opacity-90 transition shadow-lg shadow-purple-500/25">
                        –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Üí
                    </button>
                    <a href="#docs" class="px-8 py-4 glass rounded-xl font-semibold text-lg hover:bg-white/10 transition text-center">
                        –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
                    </a>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-16">
                    <div class="glass rounded-2xl p-6 card-hover">
                        <div class="text-3xl font-bold gradient-text">‚àû</div>
                        <div class="text-gray-400 text-sm mt-1">–ó–∞–ø—Ä–æ—Å–æ–≤</div>
                    </div>
                    <div class="glass rounded-2xl p-6 card-hover">
                        <div class="text-3xl font-bold gradient-text">0‚ÇΩ</div>
                        <div class="text-gray-400 text-sm mt-1">–ù–∞–≤—Å–µ–≥–¥–∞</div>
                    </div>
                    <div class="glass rounded-2xl p-6 card-hover">
                        <div class="text-3xl font-bold gradient-text">20+</div>
                        <div class="text-gray-400 text-sm mt-1">API —Å–µ—Ä–≤–∏—Å–æ–≤</div>
                    </div>
                    <div class="glass rounded-2xl p-6 card-hover">
                        <div class="text-3xl font-bold gradient-text">99.9%</div>
                        <div class="text-gray-400 text-sm mt-1">Uptime</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hero –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö -->
        <section id="heroUser" class="pt-12 pb-16 px-4 hidden">
            <div class="max-w-6xl mx-auto">
                <div class="glass rounded-3xl p-6 sm:p-10 mb-8">
                    <div class="flex flex-col lg:flex-row items-center gap-6 lg:gap-10">
                        <div class="w-20 h-20 sm:w-24 sm:h-24 gradient-bg rounded-2xl flex items-center justify-center text-4xl sm:text-5xl flex-shrink-0">
                            üëã
                        </div>
                        <div class="text-center lg:text-left flex-1">
                            <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-2">
                                –° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, <span id="heroUserName" class="gradient-text">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</span>!
                            </h1>
                            <p class="text-gray-400 text-sm sm:text-base">
                                –ò–∑—É—á–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –≤ Playground –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
                            </p>
                        </div>
                        <div class="flex flex-col sm:flex-row gap-3 flex-shrink-0">
                            <button onclick="backToDashboard()" class="px-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition flex items-center gap-2 justify-center">
                                <span>üìä</span> –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
                            </button>
                            <a href="#playground" class="px-6 py-3 glass rounded-xl font-semibold hover:bg-white/10 transition flex items-center gap-2 justify-center">
                                <span>üéÆ</span> Playground
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- –ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö -->
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="glass rounded-2xl p-5 card-hover">
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-2xl">üìä</span>
                            <span class="text-gray-400 text-sm">–°–µ–≥–æ–¥–Ω—è</span>
                        </div>
                        <div class="text-2xl sm:text-3xl font-bold gradient-text" id="heroStatToday">0</div>
                        <div class="text-xs text-gray-500 mt-1">–∑–∞–ø—Ä–æ—Å–æ–≤</div>
                    </div>
                    <div class="glass rounded-2xl p-5 card-hover">
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-2xl">üî•</span>
                            <span class="text-gray-400 text-sm">–í—Å–µ–≥–æ</span>
                        </div>
                        <div class="text-2xl sm:text-3xl font-bold gradient-text" id="heroStatTotal">0</div>
                        <div class="text-xs text-gray-500 mt-1">–∑–∞–ø—Ä–æ—Å–æ–≤</div>
                    </div>
                    <div class="glass rounded-2xl p-5 card-hover">
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-2xl">üîë</span>
                            <span class="text-gray-400 text-sm">–ö–ª—é—á–µ–π</span>
                        </div>
                        <div class="text-2xl sm:text-3xl font-bold gradient-text" id="heroStatKeys">0</div>
                        <div class="text-xs text-gray-500 mt-1">API –∫–ª—é—á–µ–π</div>
                    </div>
                    <div class="glass rounded-2xl p-5 card-hover">
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-2xl">üìÅ</span>
                            <span class="text-gray-400 text-sm">–ü—Ä–æ–µ–∫—Ç–æ–≤</span>
                        </div>
                        <div class="text-2xl sm:text-3xl font-bold gradient-text" id="heroStatProjects">0</div>
                        <div class="text-xs text-gray-500 mt-1">–ø—Ä–æ–µ–∫—Ç–æ–≤</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section id="features" class="py-20 px-4">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl sm:text-4xl font-bold text-center mb-4">üöÄ –ù–∞—à–∏ API —Å–µ—Ä–≤–∏—Å—ã</h2>
                <p class="text-gray-400 text-center mb-12 max-w-2xl mx-auto">–í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</p>
                
                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üß†</div>
                        <h3 class="text-xl font-bold mb-3">OKAK AI</h3>
                        <p class="text-gray-400 text-sm mb-4">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ò–ò. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ —Ä–µ–∂–∏–º–æ–≤.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-purple-500/20 rounded-full text-xs text-purple-300">GPT</span>
                            <span class="px-3 py-1 bg-blue-500/20 rounded-full text-xs text-blue-300">Gemini</span>
                            <span class="px-3 py-1 bg-orange-500/20 rounded-full text-xs text-orange-300">Mistral</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üé®</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Image</h3>
                        <p class="text-gray-400 text-sm mb-4">–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é. Flux, Turbo –∏ –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-pink-500/20 rounded-full text-xs text-pink-300">Flux</span>
                            <span class="px-3 py-1 bg-cyan-500/20 rounded-full text-xs text-cyan-300">Turbo</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üóÑÔ∏è</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Database</h3>
                        <p class="text-gray-400 text-sm mb-4">–û–±–ª–∞—á–Ω–∞—è NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-green-500/20 rounded-full text-xs text-green-300">Realtime</span>
                            <span class="px-3 py-1 bg-yellow-500/20 rounded-full text-xs text-yellow-300">JSON</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üì±</div>
                        <h3 class="text-xl font-bold mb-3">OKAK QR</h3>
                        <p class="text-gray-400 text-sm mb-4">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-indigo-500/20 rounded-full text-xs text-indigo-300">PNG</span>
                            <span class="px-3 py-1 bg-red-500/20 rounded-full text-xs text-red-300">Custom</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üîê</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Crypto</h3>
                        <p class="text-gray-400 text-sm mb-4">–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-emerald-500/20 rounded-full text-xs text-emerald-300">SHA-256</span>
                            <span class="px-3 py-1 bg-teal-500/20 rounded-full text-xs text-teal-300">MD5</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üåê</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Utils</h3>
                        <p class="text-gray-400 text-sm mb-4">–ü–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã: UUID, Base64, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-violet-500/20 rounded-full text-xs text-violet-300">UUID</span>
                            <span class="px-3 py-1 bg-fuchsia-500/20 rounded-full text-xs text-fuchsia-300">Base64</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üå§Ô∏è</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Weather</h3>
                        <p class="text-gray-400 text-sm mb-4">–ü–æ–≥–æ–¥–∞ –≤ –ª—é–±–æ–º –≥–æ—Ä–æ–¥–µ –º–∏—Ä–∞. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –ø—Ä–æ–≥–Ω–æ–∑.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-sky-500/20 rounded-full text-xs text-sky-300">Realtime</span>
                            <span class="px-3 py-1 bg-amber-500/20 rounded-full text-xs text-amber-300">Forecast</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üåç</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Translate</h3>
                        <p class="text-gray-400 text-sm mb-4">–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ª—é–±–æ–π —è–∑—ã–∫ —Å –ø–æ–º–æ—â—å—é –ò–ò.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-rose-500/20 rounded-full text-xs text-rose-300">100+ —è–∑—ã–∫–æ–≤</span>
                            <span class="px-3 py-1 bg-lime-500/20 rounded-full text-xs text-lime-300">AI</span>
                        </div>
                    </div>

                    <div class="glass rounded-2xl p-8 card-hover">
                        <div class="w-14 h-14 gradient-bg rounded-xl flex items-center justify-center text-2xl mb-6">üòÇ</div>
                        <h3 class="text-xl font-bold mb-3">OKAK Fun</h3>
                        <p class="text-gray-400 text-sm mb-4">–®—É—Ç–∫–∏, —Ü–∏—Ç–∞—Ç—ã, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-pink-500/20 rounded-full text-xs text-pink-300">Jokes</span>
                            <span class="px-3 py-1 bg-cyan-500/20 rounded-full text-xs text-cyan-300">Quotes</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Documentation Preview -->
        <section id="docs" class="py-20 px-4 bg-gradient-to-b from-transparent to-purple-900/10">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl sm:text-4xl font-bold text-center mb-4">üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h2>
                <p class="text-gray-400 text-center mb-12">–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞ –º–∏–Ω—É—Ç—ã</p>

                <div class="glass rounded-2xl p-4 sm:p-6 md:p-8">
                    <div class="flex gap-2 mb-4 sm:mb-6 border-b border-white/10 pb-3 sm:pb-4 overflow-x-auto" style="-webkit-overflow-scrolling: touch; scrollbar-width: none;">
                        <button onclick="showDocTab('quick')" class="doc-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm transition tab-active whitespace-nowrap flex-shrink-0" data-tab="quick">üöÄ –°—Ç–∞—Ä—Ç</button>
                        <button onclick="showDocTab('ai')" class="doc-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm transition text-gray-400 hover:text-white whitespace-nowrap flex-shrink-0" data-tab="ai">üß† AI</button>
                        <button onclick="showDocTab('image')" class="doc-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm transition text-gray-400 hover:text-white whitespace-nowrap flex-shrink-0" data-tab="image">üé® Image</button>
                        <button onclick="showDocTab('db')" class="doc-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm transition text-gray-400 hover:text-white whitespace-nowrap flex-shrink-0" data-tab="db">üóÑÔ∏è DB</button>
                        <button onclick="showDocTab('qr')" class="doc-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm transition text-gray-400 hover:text-white whitespace-nowrap flex-shrink-0" data-tab="qr">üì± QR</button>
                        <button onclick="showDocTab('crypto')" class="doc-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm transition text-gray-400 hover:text-white whitespace-nowrap flex-shrink-0" data-tab="crypto">üîê Crypto</button>
                    </div>

                    <div id="docContent">
                        <!-- Quick Start -->
                        <div id="doc-quick" class="doc-section fade-in">
                            <h3 class="text-xl font-bold mb-4">üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</h3>
                            <div class="space-y-4">
                                <div class="flex gap-4 items-start">
                                    <div class="w-8 h-8 gradient-bg rounded-lg flex items-center justify-center font-bold flex-shrink-0">1</div>
                                    <div>
                                        <div class="font-semibold">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ SDK</div>
                                        <div class="text-gray-400 text-sm">–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ –≤–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É</div>
                                    </div>
                                </div>
                                <div class="flex gap-4 items-start">
                                    <div class="w-8 h-8 gradient-bg rounded-lg flex items-center justify-center font-bold flex-shrink-0">2</div>
                                    <div>
                                        <div class="font-semibold">–í—ã–∑—ã–≤–∞–π—Ç–µ –º–µ—Ç–æ–¥—ã</div>
                                        <div class="text-gray-400 text-sm">OKAK.ai(), OKAK.image(), OKAK.qr() –∏ –¥—Ä—É–≥–∏–µ</div>
                                    </div>
                                </div>
                                <div class="flex gap-4 items-start">
                                    <div class="w-8 h-8 gradient-bg rounded-lg flex items-center justify-center font-bold flex-shrink-0">3</div>
                                    <div>
                                        <div class="font-semibold">–ì–æ—Ç–æ–≤–æ!</div>
                                        <div class="text-gray-400 text-sm">–ù–∏–∫–∞–∫–∏—Ö –∫–ª—é—á–µ–π –Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6 code-block rounded-xl p-4 overflow-x-auto">
                                <pre class="mono text-sm"><span class="text-gray-500">&lt;!-- 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ SDK --&gt;</span>
<span class="text-pink-400">&lt;script src="https://vriskasyt.github.io/api/api.js"&gt;&lt;/script&gt;</span>

<span class="text-gray-500">&lt;!-- 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --&gt;</span>
<span class="text-pink-400">&lt;script&gt;</span>
  <span class="text-gray-500">// AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞</span>
  <span class="text-purple-400">const</span> text = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">ai</span>(<span class="text-green-400">'–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?'</span>);
  
  <span class="text-gray-500">// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
  <span class="text-purple-400">const</span> imgUrl = OKAK.<span class="text-yellow-300">image</span>(<span class="text-green-400">'cute cat'</span>);
<span class="text-pink-400">&lt;/script&gt;</span></pre>
                            </div>
                        </div>

                        <!-- AI API -->
                        <div id="doc-ai" class="doc-section hidden">
                            <h3 class="text-xl font-bold mb-4">üß† AI API - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞</h3>
                            <p class="text-gray-400 mb-4">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ò–ò –º–æ–¥–µ–ª–µ–π</p>
                            
                            <div class="space-y-4">
                                <div>
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs font-mono">ASYNC</span>
                                        <span class="mono text-sm">OKAK.ai(prompt, model)</span>
                                    </div>
                                    <div class="code-block rounded-xl p-4 overflow-x-auto">
                                        <pre class="mono text-sm"><span class="text-gray-500">// –ü–æ–¥–∫–ª—é—á–∏—Ç–µ SDK</span>
<span class="text-pink-400">&lt;script src="https://vriskasyt.github.io/api/api.js"&gt;&lt;/script&gt;</span>

<span class="text-gray-500">// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ</span>
<span class="text-purple-400">const</span> response = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">ai</span>(<span class="text-green-400">'–†–∞—Å—Å–∫–∞–∂–∏ —à—É—Ç–∫—É'</span>, <span class="text-green-400">'openai'</span>);
console.<span class="text-yellow-300">log</span>(response); <span class="text-gray-500">// "–ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã..."</span></pre>
                                    </div>
                                </div>
                                
                                <div class="p-4 bg-purple-500/10 border border-purple-500/30 rounded-xl">
                                    <div class="font-semibold text-purple-400 mb-2">–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:</div>
                                    <div class="flex flex-wrap gap-2">
                                        <code class="px-2 py-1 bg-black/30 rounded text-xs">openai</code>
                                        <code class="px-2 py-1 bg-black/30 rounded text-xs">gemini</code>
                                        <code class="px-2 py-1 bg-black/30 rounded text-xs">mistral</code>
                                        <code class="px-2 py-1 bg-black/30 rounded text-xs">llama</code>
                                        <code class="px-2 py-1 bg-black/30 rounded text-xs">deepseek</code>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Image API -->
                        <div id="doc-image" class="doc-section hidden">
                            <h3 class="text-xl font-bold mb-4">üé® Image API - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h3>
                            <p class="text-gray-400 mb-4">–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é</p>
                            
                            <div class="code-block rounded-xl p-4 overflow-x-auto mb-4">
                                <pre class="mono text-sm"><span class="text-gray-500">// –ü—Ä–æ—Å—Ç–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</span>
<span class="text-purple-400">const</span> url = OKAK.<span class="text-yellow-300">image</span>(<span class="text-green-400">'cute cat playing'</span>);
document.<span class="text-yellow-300">getElementById</span>(<span class="text-green-400">'img'</span>).src = url;

<span class="text-gray-500">// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏</span>
<span class="text-purple-400">const</span> url2 = OKAK.<span class="text-yellow-300">image</span>(<span class="text-green-400">'space landscape'</span>, {
  width: <span class="text-orange-400">1024</span>,
  height: <span class="text-orange-400">768</span>,
  model: <span class="text-green-400">'flux'</span>
});</pre>
                            </div>
                            
                            <div class="grid sm:grid-cols-2 gap-4">
                                <div class="p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl">
                                    <div class="font-semibold text-blue-400 mb-2">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã options:</div>
                                    <ul class="text-sm text-gray-300 space-y-1">
                                        <li><code>width</code> - —à–∏—Ä–∏–Ω–∞ (–¥–æ 1024)</li>
                                        <li><code>height</code> - –≤—ã—Å–æ—Ç–∞ (–¥–æ 1024)</li>
                                        <li><code>model</code> - flux, turbo</li>
                                        <li><code>nologo</code> - –±–µ–∑ –≤–æ–¥—è–Ω–æ–≥–æ –∑–Ω–∞–∫–∞</li>
                                    </ul>
                                </div>
                                <div class="p-4 bg-green-500/10 border border-green-500/30 rounded-xl">
                                    <div class="font-semibold text-green-400 mb-2">–ú–æ–¥–µ–ª–∏:</div>
                                    <ul class="text-sm text-gray-300 space-y-1">
                                        <li><code>flux</code> - –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ</li>
                                        <li><code>turbo</code> - –±—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Database -->
                        <div id="doc-db" class="doc-section hidden">
                            <h3 class="text-xl font-bold mb-4">üóÑÔ∏è Database API</h3>
                            <p class="text-gray-400 mb-4">–û–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                            
                            <div class="code-block rounded-xl p-4 overflow-x-auto mb-4">
                                <pre class="mono text-sm"><span class="text-gray-500">// –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</span>
GET /api/db?path=users/123&key=YOUR_KEY

<span class="text-gray-500">// –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ sk_ –∫–ª—é—á–∏)</span>
POST /api/db?path=users/123&key=YOUR_SK_KEY
Body: { "name": "John", "age": 25 }

<span class="text-gray-500">// –£–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ sk_ –∫–ª—é—á–∏)</span>
DELETE /api/db?path=users/123&key=YOUR_SK_KEY</pre>
                            </div>
                            
                            <div class="p-4 bg-orange-500/10 border border-orange-500/30 rounded-xl">
                                <div class="font-semibold text-orange-400 mb-2">‚ö†Ô∏è –¢–∏–ø—ã –∫–ª—é—á–µ–π:</div>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li><span class="text-green-400">pk_</span> ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π, —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ</li>
                                    <li><span class="text-orange-400">sk_</span> ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø</li>
                                </ul>
                            </div>
                        </div>

                        <!-- QR API -->
                        <div id="doc-qr" class="doc-section hidden">
                            <h3 class="text-xl font-bold mb-4">üì± QR API - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤</h3>
                            <p class="text-gray-400 mb-4">–°–æ–∑–¥–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤ –¥–ª—è –ª—é–±—ã—Ö –¥–∞–Ω–Ω—ã—Ö</p>
                            
                            <div class="code-block rounded-xl p-4 overflow-x-auto mb-4">
                                <pre class="mono text-sm"><span class="text-gray-500">// –ü—Ä–æ—Å—Ç–æ–π QR-–∫–æ–¥</span>
GET /api/qr?data=https://example.com&key=YOUR_KEY

<span class="text-gray-500">// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏</span>
GET /api/qr?data=Hello&size=300&color=667eea&key=YOUR_KEY</pre>
                            </div>
                            
                            <div class="p-4 bg-indigo-500/10 border border-indigo-500/30 rounded-xl">
                                <div class="font-semibold text-indigo-400 mb-2">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:</div>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li><code>data</code> - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è</li>
                                    <li><code>size</code> - —Ä–∞–∑–º–µ—Ä –≤ –ø–∏–∫—Å–µ–ª—è—Ö</li>
                                    <li><code>color</code> - —Ü–≤–µ—Ç QR-–∫–æ–¥–∞ (hex)</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Crypto -->
                        <div id="doc-crypto" class="doc-section hidden">
                            <h3 class="text-xl font-bold mb-4">üîê Crypto API - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</h3>
                            <p class="text-gray-400 mb-4">–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</p>
                            
                            <div class="code-block rounded-xl p-4 overflow-x-auto mb-4">
                                <pre class="mono text-sm"><span class="text-gray-500">// SHA-256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
GET /api/crypto/hash?text=hello&algo=sha256&key=YOUR_KEY

<span class="text-gray-500">// Base64</span>
GET /api/crypto/base64?text=hello&mode=encode&key=YOUR_KEY

<span class="text-gray-500">// UUID –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</span>
GET /api/crypto/uuid?key=YOUR_KEY</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Playground -->
        <section id="playground" class="py-20 px-4">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl sm:text-4xl font-bold text-center mb-4">üéÆ Playground</h2>
                <p class="text-gray-400 text-center mb-12">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ API –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å ‚Äî –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏!</p>

                <div class="grid lg:grid-cols-2 gap-6">
                    <!-- Text Generation -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üß†</span>
                            AI –¢–µ–∫—Å—Ç
                        </h3>
                        <textarea id="aiPrompt" class="w-full h-32 bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å..."></textarea>
                        <select id="aiModel" class="mt-3 w-full bg-black/30 rounded-xl p-3 text-white focus:outline-none">
                            <option value="openai">OpenAI GPT</option>
                            <option value="gemini">Google Gemini</option>
                            <option value="mistral">Mistral</option>
                            <option value="llama">Llama</option>
                        </select>
                        <button onclick="testAI()" id="aiBtn" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition flex items-center justify-center gap-2">
                            <span id="aiBtnText">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span>
                            <span id="aiLoader" class="hidden"><svg class="w-5 h-5 spinner" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></span>
                        </button>
                        <div id="aiResult" class="mt-4 p-4 bg-black/30 rounded-xl min-h-[100px] text-gray-300 text-sm hidden whitespace-pre-wrap"></div>
                    </div>

                    <!-- Image Generation -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üé®</span>
                            AI –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                        </h3>
                        <input type="text" id="imgPrompt" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="–û–ø–∏—à–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...">
                        <select id="imgModel" class="mt-3 w-full bg-black/30 rounded-xl p-3 text-white focus:outline-none">
                            <option value="flux">Flux (–∫–∞—á–µ—Å—Ç–≤–æ)</option>
                            <option value="turbo">Turbo (—Å–∫–æ—Ä–æ—Å—Ç—å)</option>
                        </select>
                        <button onclick="testImage()" id="imgBtn" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition flex items-center justify-center gap-2">
                            <span id="imgBtnText">–°–æ–∑–¥–∞—Ç—å</span>
                            <span id="imgLoader" class="hidden"><svg class="w-5 h-5 spinner" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></span>
                        </button>
                        <div id="imgResult" class="mt-4 rounded-xl overflow-hidden hidden">
                            <img id="generatedImg" class="w-full rounded-xl" alt="">
                        </div>
                    </div>

                    <!-- QR Generator -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üì±</span>
                            QR –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä
                        </h3>
                        <input type="text" id="qrData" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="–¢–µ–∫—Å—Ç –∏–ª–∏ URL...">
                        <div class="grid grid-cols-2 gap-3 mt-3">
                            <input type="text" id="qrColor" value="667eea" class="bg-black/30 rounded-xl p-3 text-white placeholder-gray-500 focus:outline-none" placeholder="–¶–≤–µ—Ç (hex)">
                            <input type="number" id="qrSize" value="200" class="bg-black/30 rounded-xl p-3 text-white placeholder-gray-500 focus:outline-none" placeholder="–†–∞–∑–º–µ—Ä">
                        </div>
                        <button onclick="testQR()" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–°–æ–∑–¥–∞—Ç—å QR</button>
                        <div id="qrResult" class="mt-4 flex justify-center hidden">
                            <img id="generatedQR" class="rounded-xl" alt="QR Code">
                        </div>
                    </div>

                    <!-- Crypto Tools -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üîê</span>
                            Crypto –£—Ç–∏–ª–∏—Ç—ã
                        </h3>
                        <input type="text" id="cryptoInput" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç...">
                        <div class="grid grid-cols-2 gap-3 mt-3">
                            <button onclick="testHash('SHA-256')" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">SHA-256</button>
                            <button onclick="testHash('SHA-1')" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">SHA-1</button>
                            <button onclick="testBase64('encode')" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">Base64 Encode</button>
                            <button onclick="testBase64('decode')" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">Base64 Decode</button>
                            <button onclick="testUUID()" class="col-span-2 py-3 gradient-bg rounded-xl hover:opacity-90 transition text-sm font-semibold">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å UUID</button>
                        </div>
                        <div id="cryptoResult" class="mt-4 p-4 bg-black/30 rounded-xl text-gray-300 text-sm mono break-all hidden"></div>
                    </div>

                    <!-- Weather -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üå§Ô∏è</span>
                            –ü–æ–≥–æ–¥–∞
                        </h3>
                        <input type="text" id="weatherCity" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: Moscow)">
                        <button onclick="testWeather()" id="weatherBtn" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–£–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É</button>
                        <div id="weatherResult" class="mt-4 p-4 bg-black/30 rounded-xl hidden">
                            <div id="weatherData" class="text-gray-300 text-sm"></div>
                        </div>
                    </div>

                    <!-- Translate -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üåç</span>
                            –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫
                        </h3>
                        <textarea id="translateText" class="w-full h-24 bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="–¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞..."></textarea>
                        <div class="grid grid-cols-2 gap-3 mt-3">
                            <select id="translateFrom" class="bg-black/30 rounded-xl p-3 text-white focus:outline-none">
                                <option value="auto">–ê–≤—Ç–æ</option>
                                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                                <option value="en">English</option>
                                <option value="de">Deutsch</option>
                                <option value="fr">Fran√ßais</option>
                                <option value="es">Espa√±ol</option>
                            </select>
                            <select id="translateTo" class="bg-black/30 rounded-xl p-3 text-white focus:outline-none">
                                <option value="en">English</option>
                                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                                <option value="de">Deutsch</option>
                                <option value="fr">Fran√ßais</option>
                                <option value="es">Espa√±ol</option>
                                <option value="zh">‰∏≠Êñá</option>
                                <option value="ja">Êó•Êú¨Ë™û</option>
                            </select>
                        </div>
                        <button onclick="testTranslate()" id="translateBtn" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏</button>
                        <div id="translateResult" class="mt-4 p-4 bg-black/30 rounded-xl text-gray-300 text-sm hidden whitespace-pre-wrap"></div>
                    </div>

                    <!-- Fun -->
                    <div class="glass rounded-2xl p-6 sm:p-8">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">üòÇ</span>
                            –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
                        </h3>
                        <div class="grid grid-cols-1 gap-3">
                            <button onclick="testJoke()" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm flex items-center justify-center gap-2">
                                <span>üòÑ</span> –°–ª—É—á–∞–π–Ω–∞—è —à—É—Ç–∫–∞
                            </button>
                            <button onclick="testQuote()" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm flex items-center justify-center gap-2">
                                <span>üí¨</span> –¶–∏—Ç–∞—Ç–∞ –¥–Ω—è
                            </button>
                            <button onclick="testFact()" class="py-3 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm flex items-center justify-center gap-2">
                                <span>üß†</span> –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç
                            </button>
                            <button onclick="testPassword()" class="py-3 gradient-bg rounded-xl hover:opacity-90 transition text-sm font-semibold flex items-center justify-center gap-2">
                                <span>üîë</span> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å
                            </button>
                        </div>
                        <div id="funResult" class="mt-4 p-4 bg-black/30 rounded-xl text-gray-300 text-sm hidden whitespace-pre-wrap"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-12 px-4 border-t border-white/10">
            <div class="max-w-6xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 gradient-bg rounded-lg flex items-center justify-center font-bold">O</div>
                    <span class="font-bold">OKAK API</span>
                </div>
                <p class="text-gray-500 text-sm">¬© 2026 OKAK API. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
            </div>
        </footer>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="hidden">
        <div class="flex">
            <!-- Sidebar -->
            <aside class="fixed left-0 top-16 w-64 h-[calc(100vh-4rem)] glass border-r border-white/10 p-4 hidden lg:block overflow-y-auto z-40">
                <nav class="space-y-2">
                    <button onclick="goToLanding()" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400 mb-2 border-b border-white/10 pb-4">
                        <span>üè†</span> –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                    <button onclick="showDash('overview')" class="sidebar-link active w-full text-left px-4 py-3 rounded-xl flex items-center gap-3" data-section="overview">
                        <span>üìä</span> –û–±–∑–æ—Ä
                    </button>
                    <button onclick="showDash('keys')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="keys">
                        <span>üîë</span> API –ö–ª—é—á–∏
                    </button>
                    <button onclick="showDash('projects')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="projects">
                        <span>üìÅ</span> –ü—Ä–æ–µ–∫—Ç—ã
                    </button>
                    <button onclick="showDash('database')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="database">
                        <span>üóÑÔ∏è</span> –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
                    </button>
                    <button onclick="showDash('play')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="play">
                        <span>üéÆ</span> Playground
                    </button>
                    <button onclick="showDash('docs')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="docs">
                        <span>üìö</span> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
                    </button>
                    <button onclick="showDash('history')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="history">
                        <span>üìú</span> –ò—Å—Ç–æ—Ä–∏—è
                    </button>
                    <button onclick="showDash('templates')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="templates">
                        <span>üìù</span> –®–∞–±–ª–æ–Ω—ã
                    </button>
                    <button onclick="showDash('webhooks')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="webhooks">
                        <span>üîó</span> –í–µ–±—Ö—É–∫–∏
                    </button>
                    <button onclick="showDash('settings')" class="sidebar-link w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 text-gray-400" data-section="settings">
                        <span>‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    </button>
                </nav>
            </aside>

            <!-- Mobile nav -->
            <div class="lg:hidden fixed top-14 left-0 right-0 glass border-b border-white/10 py-2 px-1 flex gap-1 overflow-x-auto z-40" style="-webkit-overflow-scrolling: touch; scrollbar-width: none;">
                <button onclick="goToLanding()" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]">
                    <span class="text-base">üè†</span>
                    <span class="text-[10px]">–ì–ª–∞–≤–Ω–∞—è</span>
                </button>
                <button onclick="showDash('overview')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap bg-purple-500/20 flex flex-col items-center gap-1 min-w-[60px]" data-section="overview">
                    <span class="text-base">üìä</span>
                    <span class="text-[10px]">–û–±–∑–æ—Ä</span>
                </button>
                <button onclick="showDash('keys')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="keys">
                    <span class="text-base">üîë</span>
                    <span class="text-[10px]">–ö–ª—é—á–∏</span>
                </button>
                <button onclick="showDash('projects')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="projects">
                    <span class="text-base">üìÅ</span>
                    <span class="text-[10px]">–ü—Ä–æ–µ–∫—Ç—ã</span>
                </button>
                <button onclick="showDash('database')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="database">
                    <span class="text-base">üóÑÔ∏è</span>
                    <span class="text-[10px]">–ë–î</span>
                </button>
                <button onclick="showDash('play')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="play">
                    <span class="text-base">üéÆ</span>
                    <span class="text-[10px]">–¢–µ—Å—Ç</span>
                </button>
                <button onclick="showDash('docs')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="docs">
                    <span class="text-base">üìö</span>
                    <span class="text-[10px]">–î–æ–∫–∏</span>
                </button>
                <button onclick="showDash('history')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="history">
                    <span class="text-base">üìú</span>
                    <span class="text-[10px]">–ò—Å—Ç–æ—Ä–∏—è</span>
                </button>
                <button onclick="showDash('templates')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="templates">
                    <span class="text-base">üìù</span>
                    <span class="text-[10px]">–®–∞–±–ª–æ–Ω—ã</span>
                </button>
                <button onclick="showDash('webhooks')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="webhooks">
                    <span class="text-base">üîó</span>
                    <span class="text-[10px]">–•—É–∫–∏</span>
                </button>
                <button onclick="showDash('settings')" class="mob-nav px-3 py-2 rounded-xl text-xs whitespace-nowrap text-gray-400 flex flex-col items-center gap-1 min-w-[60px]" data-section="settings">
                    <span class="text-base">‚öôÔ∏è</span>
                    <span class="text-[10px]">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </button>
            </div>

            <!-- Main -->
            <main class="flex-1 lg:ml-64 dashboard-content px-4 sm:px-6 pb-20 min-h-screen">
                <div class="max-w-5xl mx-auto pt-6">
                    
                    <!-- Overview -->
                    <section id="dash-overview" class="dash-section">
                        <div class="mb-8">
                            <h1 class="text-2xl sm:text-3xl font-bold">–ü—Ä–∏–≤–µ—Ç, <span id="userName">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</span>! üëã</h1>
                            <p class="text-gray-400 mt-1">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p>
                        </div>

                        <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                            <div class="glass rounded-2xl p-5">
                                <div class="text-gray-400 text-sm mb-1">–°–µ–≥–æ–¥–Ω—è</div>
                                <div class="text-2xl font-bold" id="statToday">0</div>
                            </div>
                            <div class="glass rounded-2xl p-5">
                                <div class="text-gray-400 text-sm mb-1">–í—Å–µ–≥–æ</div>
                                <div class="text-2xl font-bold" id="statTotal">0</div>
                            </div>
                            <div class="glass rounded-2xl p-5">
                                <div class="text-gray-400 text-sm mb-1">–ö–ª—é—á–µ–π</div>
                                <div class="text-2xl font-bold" id="statKeys">0</div>
                            </div>
                            <div class="glass rounded-2xl p-5">
                                <div class="text-gray-400 text-sm mb-1">–ü—Ä–æ–µ–∫—Ç–æ–≤</div>
                                <div class="text-2xl font-bold" id="statProjects">0</div>
                            </div>
                        </div>

                        <div class="grid lg:grid-cols-2 gap-6">
                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üìà –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (7 –¥–Ω–µ–π)</h3>
                                <div class="h-32 flex items-end gap-2" id="chart"></div>
                            </div>
                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                                <div class="space-y-3">
                                    <button onclick="showDash('keys'); setTimeout(openKeyModal, 100)" class="w-full p-4 bg-purple-500/10 hover:bg-purple-500/20 rounded-xl text-left transition flex items-center gap-3">
                                        <span class="text-2xl">üîë</span>
                                        <div>
                                            <div class="font-semibold">–°–æ–∑–¥–∞—Ç—å API –∫–ª—é—á</div>
                                            <div class="text-sm text-gray-400">–ù–æ–≤—ã–π –∫–ª—é—á –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞</div>
                                        </div>
                                    </button>
                                    <button onclick="showDash('play')" class="w-full p-4 bg-blue-500/10 hover:bg-blue-500/20 rounded-xl text-left transition flex items-center gap-3">
                                        <span class="text-2xl">üéÆ</span>
                                        <div>
                                            <div class="font-semibold">Playground</div>
                                            <div class="text-sm text-gray-400">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Keys -->
                    <section id="dash-keys" class="dash-section hidden">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                            <div>
                                <h2 class="text-2xl font-bold">üîë API –ö–ª—é—á–∏</h2>
                                <p class="text-gray-400 text-sm">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞</p>
                            </div>
                            <button onclick="openKeyModal()" class="px-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">+ –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á</button>
                        </div>
                        <div id="keysList" class="space-y-4"></div>
                        <div id="noKeys" class="text-center text-gray-400 py-12 glass rounded-2xl hidden">
                            <div class="text-4xl mb-4">üîë</div>
                            <div>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç API –∫–ª—é—á–µ–π</div>
                            <button onclick="openKeyModal()" class="mt-4 px-6 py-2 gradient-bg rounded-xl text-sm font-semibold">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π –∫–ª—é—á</button>
                        </div>
                    </section>

                    <!-- Projects -->
                    <section id="dash-projects" class="dash-section hidden">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                            <div>
                                <h2 class="text-2xl font-bold">üìÅ –ü—Ä–æ–µ–∫—Ç—ã</h2>
                                <p class="text-gray-400 text-sm">–í–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
                            </div>
                            <button onclick="openProjModal()" class="px-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">+ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</button>
                        </div>
                        <div id="projList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                        <div id="noProj" class="text-center text-gray-400 py-12 glass rounded-2xl hidden">
                            <div class="text-4xl mb-4">üìÅ</div>
                            <div>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤</div>
                            <button onclick="openProjModal()" class="mt-4 px-6 py-2 gradient-bg rounded-xl text-sm font-semibold">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                        </div>
                    </section>

                    <!-- Database -->
                    <section id="dash-database" class="dash-section hidden">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold">üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
                            <p class="text-gray-400 text-sm">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</p>
                        </div>

                        <div class="glass rounded-2xl p-6 mb-6">
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="text-gray-400 text-sm mb-2 block">–ü—É—Ç—å</label>
                                    <input type="text" id="dbPath" placeholder="users/123" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500">
                                </div>
                                <div>
                                    <label class="text-gray-400 text-sm mb-2 block">–î–∞–Ω–Ω—ã–µ (JSON)</label>
                                    <input type="text" id="dbData" placeholder='{"name": "John"}' class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500">
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-3">
                                <button onclick="dbRead()" class="flex-1 sm:flex-none px-6 py-3 glass rounded-xl hover:bg-white/10 transition font-semibold">üìñ –ß–∏—Ç–∞—Ç—å</button>
                                <button onclick="dbWrite()" class="flex-1 sm:flex-none px-6 py-3 gradient-bg rounded-xl hover:opacity-90 transition font-semibold">‚úèÔ∏è –ó–∞–ø–∏—Å–∞—Ç—å</button>
                                <button onclick="dbDelete()" class="flex-1 sm:flex-none px-6 py-3 bg-red-500/20 text-red-400 rounded-xl hover:bg-red-500/30 transition font-semibold">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                            </div>
                            <div id="dbResult" class="mt-4 p-4 code-block rounded-xl hidden">
                                <pre id="dbResultPre" class="mono text-sm whitespace-pre-wrap break-all"></pre>
                            </div>
                        </div>

                        <div class="glass rounded-2xl p-6">
                            <h3 class="text-lg font-bold mb-4">üìÇ –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</h3>
                            <div id="dbTree" class="code-block rounded-xl p-4 mono text-sm max-h-96 overflow-auto">
                                <div class="text-gray-500">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                            </div>
                        </div>
                    </section>

                    <!-- Playground -->
                    <section id="dash-play" class="dash-section hidden">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold">üéÆ Playground</h2>
                            <p class="text-gray-400 text-sm">–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                        </div>

                        <div class="grid lg:grid-cols-2 gap-6">
                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üß† AI –¢–µ–∫—Å—Ç</h3>
                                <textarea id="dAiPrompt" class="w-full h-28 bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 resize-none focus:outline-none" placeholder="–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å..."></textarea>
                                <select id="dAiModel" class="mt-3 w-full bg-black/30 rounded-xl p-3 text-white">
                                    <option value="openai">OpenAI</option>
                                    <option value="gemini">Gemini</option>
                                    <option value="mistral">Mistral</option>
                                </select>
                                <button onclick="dTestAI()" id="dAiBtn" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                                <div id="dAiResult" class="mt-4 p-4 bg-black/30 rounded-xl text-sm hidden whitespace-pre-wrap max-h-60 overflow-auto"></div>
                            </div>

                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üé® AI –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
                                <input type="text" id="dImgPrompt" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none" placeholder="–û–ø–∏—à–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...">
                                <select id="dImgModel" class="mt-3 w-full bg-black/30 rounded-xl p-3 text-white">
                                    <option value="flux">Flux</option>
                                    <option value="turbo">Turbo</option>
                                </select>
                                <button onclick="dTestImg()" id="dImgBtn" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold">–°–æ–∑–¥–∞—Ç—å</button>
                                <div id="dImgResult" class="mt-4 hidden">
                                    <img id="dGenImg" class="w-full rounded-xl" alt="">
                                </div>
                            </div>

                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üì± QR –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</h3>
                                <input type="text" id="dQrData" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none" placeholder="URL –∏–ª–∏ —Ç–µ–∫—Å—Ç">
                                <button onclick="dTestQR()" class="mt-4 w-full py-3 gradient-bg rounded-xl font-semibold">–°–æ–∑–¥–∞—Ç—å QR</button>
                                <div id="dQrResult" class="mt-4 flex justify-center hidden">
                                    <img id="dGenQR" class="rounded-xl" alt="">
                                </div>
                            </div>

                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üîê Crypto</h3>
                                <input type="text" id="dCryptoIn" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none" placeholder="–¢–µ–∫—Å—Ç">
                                <div class="grid grid-cols-2 gap-2 mt-3">
                                    <button onclick="dHash('SHA-256')" class="py-2 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">SHA-256</button>
                                    <button onclick="dHash('SHA-1')" class="py-2 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">SHA-1</button>
                                    <button onclick="dB64('encode')" class="py-2 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">Base64 Enc</button>
                                    <button onclick="dB64('decode')" class="py-2 bg-black/30 rounded-xl hover:bg-white/10 transition text-sm">Base64 Dec</button>
                                </div>
                                <button onclick="dUUID()" class="mt-2 w-full py-2 gradient-bg rounded-xl font-semibold text-sm">UUID</button>
                                <div id="dCryptoRes" class="mt-4 p-4 bg-black/30 rounded-xl text-sm mono break-all hidden"></div>
                            </div>
                        </div>
                    </section>

                    <!-- Docs -->
                    <section id="dash-docs" class="dash-section hidden">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold">üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h2>
                            <p class="text-gray-400 text-sm">–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ API</p>
                        </div>

                        <div class="glass rounded-2xl p-4 sm:p-6">
                            <div class="flex gap-2 mb-4 sm:mb-6 border-b border-white/10 pb-3 sm:pb-4 overflow-x-auto" style="-webkit-overflow-scrolling: touch; scrollbar-width: none;">
                                <button onclick="showDocsTab('intro')" class="docs-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm tab-active whitespace-nowrap flex-shrink-0" data-tab="intro">üìñ –í–≤–µ–¥–µ–Ω–∏–µ</button>
                                <button onclick="showDocsTab('auth')" class="docs-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm text-gray-400 whitespace-nowrap flex-shrink-0" data-tab="auth">üîê Auth</button>
                                <button onclick="showDocsTab('endpoints')" class="docs-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm text-gray-400 whitespace-nowrap flex-shrink-0" data-tab="endpoints">üì° API</button>
                                <button onclick="showDocsTab('errors')" class="docs-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm text-gray-400 whitespace-nowrap flex-shrink-0" data-tab="errors">‚ùå –û—à–∏–±–∫–∏</button>
                                <button onclick="showDocsTab('examples')" class="docs-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm text-gray-400 whitespace-nowrap flex-shrink-0" data-tab="examples">üí° –ü—Ä–∏–º–µ—Ä—ã</button>
                            </div>

                            <div id="docsContent">
                                <div id="docs-intro" class="docs-sec">
                                    <h3 class="text-xl font-bold mb-4">üöÄ –í–≤–µ–¥–µ–Ω–∏–µ</h3>
                                    <p class="text-gray-300 mb-4">OKAK API ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –Ω–∞–±–æ—Ä–æ–º –º–æ—â–Ω—ã—Ö API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ JavaScript SDK.</p>
                                    
                                    <h4 class="font-bold mt-6 mb-3">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:</h4>
                                    <ul class="space-y-2 text-gray-300">
                                        <li>üß† <strong>AI API</strong> ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞</li>
                                        <li>üé® <strong>Image API</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</li>
                                        <li>üóÑÔ∏è <strong>Database</strong> ‚Äî –æ–±–ª–∞—á–Ω–∞—è –ë–î</li>
                                        <li>üì± <strong>QR API</strong> ‚Äî QR-–∫–æ–¥—ã</li>
                                        <li>üîê <strong>Crypto</strong> ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
                                    </ul>

                                    <h4 class="font-bold mt-6 mb-3">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SDK:</h4>
                                    <div class="code-block rounded-xl p-4 mono text-sm overflow-x-auto">
<pre><span class="text-gray-500">&lt;!-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤ HTML --&gt;</span>
<span class="text-pink-400">&lt;script</span> <span class="text-yellow-300">src</span>=<span class="text-green-400">"https://vriskasyt.github.io/api/api.js"</span><span class="text-pink-400">&gt;&lt;/script&gt;</span>

<span class="text-gray-500">&lt;!-- –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –æ–±—ä–µ–∫—Ç OKAK --&gt;</span>
<span class="text-pink-400">&lt;script&gt;</span>
  <span class="text-purple-400">const</span> text = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">ai</span>(<span class="text-green-400">'–ü—Ä–∏–≤–µ—Ç!'</span>);
<span class="text-pink-400">&lt;/script&gt;</span></pre>
                                    </div>
                                </div>

                                <div id="docs-auth" class="docs-sec hidden">
                                    <h3 class="text-xl font-bold mb-4">üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</h3>
                                    
                                    <div class="space-y-4">
                                        <div class="p-4 bg-green-500/10 border border-green-500/30 rounded-xl">
                                            <div class="font-bold text-green-400 mb-2">üåê –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (pk_)</div>
                                            <ul class="text-sm text-gray-300 space-y-1">
                                                <li>‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞</li>
                                                <li>‚Ä¢ –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î</li>
                                                <li>‚Ä¢ –ú–æ–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ —Å–∞–π—Ç–∞</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="p-4 bg-orange-500/10 border border-orange-500/30 rounded-xl">
                                            <div class="font-bold text-orange-400 mb-2">üîí –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (sk_)</div>
                                            <ul class="text-sm text-gray-300 space-y-1">
                                                <li>‚Ä¢ –¢–û–õ–¨–ö–û –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞</li>
                                                <li>‚Ä¢ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (read/write/delete)</li>
                                                <li>‚Ä¢ –ù–ò–ö–û–ì–î–ê –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ!</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <h4 class="font-bold mt-6 mb-3">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK:</h4>
                                    <div class="code-block rounded-xl p-4 mono text-sm overflow-x-auto">
<pre><span class="text-gray-500">// 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ SDK</span>
<span class="text-pink-400">&lt;script</span> <span class="text-yellow-300">src</span>=<span class="text-green-400">"https://vriskasyt.github.io/api/api.js"</span><span class="text-pink-400">&gt;&lt;/script&gt;</span>

<span class="text-gray-500">// 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å –≤–∞—à–∏–º –∫–ª—é—á–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
OKAK.<span class="text-yellow-300">init</span>(<span class="text-green-400">'pk_–≤–∞—à_–∫–ª—é—á'</span>);

<span class="text-gray-500">// 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API</span>
<span class="text-purple-400">const</span> response = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">ai</span>(<span class="text-green-400">'–ü—Ä–∏–≤–µ—Ç!'</span>);</pre>
                                    </div>
                                </div>

                                <div id="docs-endpoints" class="docs-sec hidden">
                                    <h3 class="text-xl font-bold mb-4">üì° SDK –ú–µ—Ç–æ–¥—ã</h3>
                                    
                                    <div class="space-y-6">
                                        <div>
                                            <h4 class="font-bold mb-2 flex items-center gap-2">
                                                <span class="px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs">ASYNC</span>
                                                OKAK.ai(prompt, model)
                                            </h4>
                                            <p class="text-gray-400 text-sm mb-2">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI</p>
                                            <div class="code-block rounded-xl p-3 mono text-xs overflow-x-auto">
<pre><span class="text-purple-400">const</span> text = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">ai</span>(<span class="text-green-400">'–†–∞—Å—Å–∫–∞–∂–∏ –∞–Ω–µ–∫–¥–æ—Ç'</span>, <span class="text-green-400">'openai'</span>);
<span class="text-gray-500">// –ú–æ–¥–µ–ª–∏: openai, gemini, mistral, llama, deepseek</span></pre>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 class="font-bold mb-2 flex items-center gap-2">
                                                <span class="px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs">SYNC</span>
                                                OKAK.image(prompt, options)
                                            </h4>
                                            <p class="text-gray-400 text-sm mb-2">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL)</p>
                                            <div class="code-block rounded-xl p-3 mono text-xs overflow-x-auto">
<pre><span class="text-purple-400">const</span> url = OKAK.<span class="text-yellow-300">image</span>(<span class="text-green-400">'cute cat'</span>, {
  width: <span class="text-orange-400">512</span>,
  height: <span class="text-orange-400">512</span>,
  model: <span class="text-green-400">'flux'</span> <span class="text-gray-500">// –∏–ª–∏ 'turbo'</span>
});
img.src = url;</pre>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 class="font-bold mb-2 flex items-center gap-2">
                                                <span class="px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs">SYNC</span>
                                                OKAK.qr(data, options)
                                            </h4>
                                            <p class="text-gray-400 text-sm mb-2">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL)</p>
                                            <div class="code-block rounded-xl p-3 mono text-xs overflow-x-auto">
<pre><span class="text-purple-400">const</span> qrUrl = OKAK.<span class="text-yellow-300">qr</span>(<span class="text-green-400">'https://example.com'</span>, {
  size: <span class="text-orange-400">200</span>,
  color: <span class="text-green-400">'667eea'</span>,
  bg: <span class="text-green-400">'ffffff'</span>
});</pre>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 class="font-bold mb-2 flex items-center gap-2">
                                                <span class="px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs">ASYNC</span>
                                                OKAK.hash(text, algo)
                                            </h4>
                                            <p class="text-gray-400 text-sm mb-2">–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞</p>
                                            <div class="code-block rounded-xl p-3 mono text-xs overflow-x-auto">
<pre><span class="text-purple-400">const</span> hash = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">hash</span>(<span class="text-green-400">'password'</span>, <span class="text-green-400">'SHA-256'</span>);
<span class="text-gray-500">// –ê–ª–≥–æ—Ä–∏—Ç–º—ã: SHA-256, SHA-1, SHA-384, SHA-512</span></pre>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 class="font-bold mb-2 flex items-center gap-2">
                                                <span class="px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs">SYNC</span>
                                                OKAK.base64(text, mode) / OKAK.uuid()
                                            </h4>
                                            <p class="text-gray-400 text-sm mb-2">–£—Ç–∏–ª–∏—Ç—ã</p>
                                            <div class="code-block rounded-xl p-3 mono text-xs overflow-x-auto">
<pre><span class="text-purple-400">const</span> encoded = OKAK.<span class="text-yellow-300">base64</span>(<span class="text-green-400">'Hello'</span>, <span class="text-green-400">'encode'</span>);
<span class="text-purple-400">const</span> decoded = OKAK.<span class="text-yellow-300">base64</span>(encoded, <span class="text-green-400">'decode'</span>);
<span class="text-purple-400">const</span> id = OKAK.<span class="text-yellow-300">uuid</span>();</pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="docs-errors" class="docs-sec hidden">
                                    <h3 class="text-xl font-bold mb-4">‚ùå –ö–æ–¥—ã –æ—à–∏–±–æ–∫</h3>
                                    
                                    <div class="overflow-x-auto">
                                        <table class="w-full text-sm">
                                            <thead>
                                                <tr class="text-left text-gray-400 border-b border-white/10">
                                                    <th class="pb-3 pr-4">–ö–æ–¥</th>
                                                    <th class="pb-3 pr-4">–°—Ç–∞—Ç—É—Å</th>
                                                    <th class="pb-3">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                                </tr>
                                            </thead>
                                            <tbody class="text-gray-300">
                                                <tr class="border-b border-white/5">
                                                    <td class="py-3 pr-4 mono text-red-400">400</td>
                                                    <td class="py-3 pr-4">Bad Request</td>
                                                    <td class="py-3">–ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</td>
                                                </tr>
                                                <tr class="border-b border-white/5">
                                                    <td class="py-3 pr-4 mono text-red-400">401</td>
                                                    <td class="py-3 pr-4">Unauthorized</td>
                                                    <td class="py-3">–ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á</td>
                                                </tr>
                                                <tr class="border-b border-white/5">
                                                    <td class="py-3 pr-4 mono text-red-400">403</td>
                                                    <td class="py-3 pr-4">Forbidden</td>
                                                    <td class="py-3">–ù–µ—Ç –ø—Ä–∞–≤ (pk_ –¥–ª—è –∑–∞–ø–∏—Å–∏)</td>
                                                </tr>
                                                <tr class="border-b border-white/5">
                                                    <td class="py-3 pr-4 mono text-red-400">404</td>
                                                    <td class="py-3 pr-4">Not Found</td>
                                                    <td class="py-3">–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω</td>
                                                </tr>
                                                <tr>
                                                    <td class="py-3 pr-4 mono text-red-400">500</td>
                                                    <td class="py-3 pr-4">Server Error</td>
                                                    <td class="py-3">–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div id="docs-examples" class="docs-sec hidden">
                                    <h3 class="text-xl font-bold mb-4">üí° –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</h3>
                                    
                                    <div class="space-y-6">
                                        <div>
                                            <h4 class="font-bold mb-2">üåê –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h4>
                                            <div class="code-block rounded-xl p-4 mono text-sm overflow-x-auto">
<pre><span class="text-pink-400">&lt;!DOCTYPE html&gt;</span>
<span class="text-pink-400">&lt;html&gt;</span>
<span class="text-pink-400">&lt;head&gt;</span>
  <span class="text-pink-400">&lt;title&gt;</span>–ú–æ–π —Å–∞–π—Ç —Å OKAK API<span class="text-pink-400">&lt;/title&gt;</span>
<span class="text-pink-400">&lt;/head&gt;</span>
<span class="text-pink-400">&lt;body&gt;</span>
  <span class="text-pink-400">&lt;button</span> <span class="text-yellow-300">id</span>=<span class="text-green-400">"btn"</span><span class="text-pink-400">&gt;</span>–°–ø—Ä–æ—Å–∏—Ç—å AI<span class="text-pink-400">&lt;/button&gt;</span>
  <span class="text-pink-400">&lt;div</span> <span class="text-yellow-300">id</span>=<span class="text-green-400">"result"</span><span class="text-pink-400">&gt;&lt;/div&gt;</span>
  <span class="text-pink-400">&lt;img</span> <span class="text-yellow-300">id</span>=<span class="text-green-400">"img"</span><span class="text-pink-400">/&gt;</span>

  <span class="text-gray-500">&lt;!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º OKAK SDK --&gt;</span>
  <span class="text-pink-400">&lt;script</span> <span class="text-yellow-300">src</span>=<span class="text-green-400">"https://vriskasyt.github.io/api/api.js"</span><span class="text-pink-400">&gt;&lt;/script&gt;</span>
  <span class="text-pink-400">&lt;script&gt;</span>
    document.<span class="text-yellow-300">getElementById</span>(<span class="text-green-400">'btn'</span>).<span class="text-yellow-300">onclick</span> = <span class="text-purple-400">async</span> () => {
      <span class="text-gray-500">// AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞</span>
      <span class="text-purple-400">const</span> text = <span class="text-purple-400">await</span> OKAK.<span class="text-yellow-300">ai</span>(<span class="text-green-400">'–†–∞—Å—Å–∫–∞–∂–∏ —à—É—Ç–∫—É'</span>);
      document.<span class="text-yellow-300">getElementById</span>(<span class="text-green-400">'result'</span>).textContent = text;
      
      <span class="text-gray-500">// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏</span>
      document.<span class="text-yellow-300">getElementById</span>(<span class="text-green-400">'img'</span>).src = 
        OKAK.<span class="text-yellow-300">image</span>(<span class="text-green-400">'funny cat'</span>, { model: <span class="text-green-400">'flux'</span> });
    };
  <span class="text-pink-400">&lt;/script&gt;</span>
<span class="text-pink-400">&lt;/body&gt;</span>
<span class="text-pink-400">&lt;/html&gt;</span></pre>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 class="font-bold mb-2">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã</h4>
                                            <div class="code-block rounded-xl p-4 mono text-sm overflow-x-auto">
<pre><span class="text-gray-500">// –ß–∞—Ç-–±–æ—Ç</span>
<span class="text-purple-400">async function</span> <span class="text-yellow-300">chat</span>(message) {
  <span class="text-purple-400">return await</span> OKAK.<span class="text-yellow-300">ai</span>(message, <span class="text-green-400">'gemini'</span>);
}

<span class="text-gray-500">// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞–≤–∞—Ç–∞—Ä–æ–≤</span>
<span class="text-purple-400">function</span> <span class="text-yellow-300">avatar</span>(description) {
  <span class="text-purple-400">return</span> OKAK.<span class="text-yellow-300">image</span>(description, { width: <span class="text-orange-400">256</span>, height: <span class="text-orange-400">256</span> });
}

<span class="text-gray-500">// QR –¥–ª—è —Å—Å—ã–ª–∫–∏</span>
<span class="text-purple-400">function</span> <span class="text-yellow-300">shareLink</span>(url) {
  <span class="text-purple-400">return</span> OKAK.<span class="text-yellow-300">qr</span>(url, { size: <span class="text-orange-400">300</span>, color: <span class="text-green-400">'000'</span> });
}

<span class="text-gray-500">// –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è</span>
<span class="text-purple-400">async function</span> <span class="text-yellow-300">hashPassword</span>(pwd) {
  <span class="text-purple-400">return await</span> OKAK.<span class="text-yellow-300">hash</span>(pwd, <span class="text-green-400">'SHA-256'</span>);
}</pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Settings -->
                    <section id="dash-settings" class="dash-section hidden">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                            <p class="text-gray-400 text-sm">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º</p>
                        </div>

                        <div class="grid lg:grid-cols-2 gap-6 mb-6">
                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üë§ –ü—Ä–æ—Ñ–∏–ª—å</h3>
                                <div class="space-y-4">
                                    <div>
                                        <label class="text-gray-400 text-sm mb-2 block">–ò–º—è</label>
                                        <input type="text" id="setName" class="w-full bg-black/30 rounded-xl p-4 text-white focus:outline-none focus:ring-2 focus:ring-purple-500">
                                    </div>
                                    <div>
                                        <label class="text-gray-400 text-sm mb-2 block">Email</label>
                                        <input type="email" id="setEmail" class="w-full bg-black/30 rounded-xl p-4 text-white focus:outline-none" disabled>
                                    </div>
                                    <button onclick="saveProfile()" class="px-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                            </div>

                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                                <div class="space-y-4">
                                    <div>
                                        <label class="text-gray-400 text-sm mb-2 block">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                                        <input type="password" id="newPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500">
                                    </div>
                                    <div>
                                        <label class="text-gray-400 text-sm mb-2 block">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</label>
                                        <input type="password" id="confirmPassword" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500">
                                    </div>
                                    <button onclick="changePassword()" class="px-6 py-3 glass rounded-xl font-semibold hover:bg-white/10 transition">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                                </div>
                            </div>
                        </div>

                        <div class="grid lg:grid-cols-2 gap-6 mb-6">
                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between p-3 bg-black/20 rounded-xl">
                                        <span class="text-gray-400">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</span>
                                        <span id="setCreatedAt">‚Äî</span>
                                    </div>
                                    <div class="flex justify-between p-3 bg-black/20 rounded-xl">
                                        <span class="text-gray-400">–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤</span>
                                        <span id="setTotalReqs" class="text-green-400">0</span>
                                    </div>
                                    <div class="flex justify-between p-3 bg-black/20 rounded-xl">
                                        <span class="text-gray-400">API –∫–ª—é—á–µ–π</span>
                                        <span id="setKeysCount">0</span>
                                    </div>
                                    <div class="flex justify-between p-3 bg-black/20 rounded-xl">
                                        <span class="text-gray-400">–ü—Ä–æ–µ–∫—Ç–æ–≤</span>
                                        <span id="setProjCount">0</span>
                                    </div>
                                </div>
                            </div>

                            <div class="glass rounded-2xl p-6">
                                <h3 class="text-lg font-bold mb-4">üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h3>
                                <div class="space-y-3">
                                    <button onclick="exportMyData()" class="w-full p-4 bg-blue-500/10 hover:bg-blue-500/20 rounded-xl text-left transition flex items-center gap-3">
                                        <span class="text-2xl">üì¶</span>
                                        <div>
                                            <div class="font-semibold">–°–∫–∞—á–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</div>
                                            <div class="text-sm text-gray-400">JSON —Ñ–æ—Ä–º–∞—Ç</div>
                                        </div>
                                    </button>
                                    <button onclick="exportMyKeys()" class="w-full p-4 bg-green-500/10 hover:bg-green-500/20 rounded-xl text-left transition flex items-center gap-3">
                                        <span class="text-2xl">üîë</span>
                                        <div>
                                            <div class="font-semibold">–≠–∫—Å–ø–æ—Ä—Ç –∫–ª—é—á–µ–π</div>
                                            <div class="text-sm text-gray-400">–°–ø–∏—Å–æ–∫ API –∫–ª—é—á–µ–π</div>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="glass rounded-2xl p-6">
                            <h3 class="text-lg font-bold mb-4 text-red-400">‚ö†Ô∏è –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
                            <div class="flex flex-wrap gap-3">
                                <button onclick="clearMyData()" class="px-6 py-3 bg-orange-500/20 text-orange-400 rounded-xl font-semibold hover:bg-orange-500/30 transition">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                                <button onclick="deleteAccount()" class="px-6 py-3 bg-red-500/20 text-red-400 rounded-xl font-semibold hover:bg-red-500/30 transition">üíÄ –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                            </div>
                        </div>
                    </section>

                    <!-- History -->
                    <section id="dash-history" class="dash-section hidden">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold">üìú –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</h2>
                            <p class="text-gray-400 text-sm">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å API</p>
                        </div>

                        <div class="glass rounded-2xl p-6 mb-6">
                            <div class="flex flex-wrap gap-2 mb-4">
                                <button onclick="filterHistory('all')" class="history-filter px-4 py-2 bg-purple-500/20 rounded-xl text-sm" data-filter="all">–í—Å–µ</button>
                                <button onclick="filterHistory('ai')" class="history-filter px-4 py-2 glass rounded-xl text-sm text-gray-400" data-filter="ai">üß† AI</button>
                                <button onclick="filterHistory('image')" class="history-filter px-4 py-2 glass rounded-xl text-sm text-gray-400" data-filter="image">üé® Image</button>
                                <button onclick="filterHistory('db')" class="history-filter px-4 py-2 glass rounded-xl text-sm text-gray-400" data-filter="db">üóÑÔ∏è DB</button>
                                <button onclick="filterHistory('qr')" class="history-filter px-4 py-2 glass rounded-xl text-sm text-gray-400" data-filter="qr">üì± QR</button>
                            </div>
                            <div id="historyList" class="space-y-3 max-h-96 overflow-auto">
                                <div class="text-gray-500 text-center py-8">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API!</div>
                            </div>
                        </div>
                    </section>

                    <!-- Templates -->
                    <section id="dash-templates" class="dash-section hidden">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                            <div>
                                <h2 class="text-2xl font-bold">üìù –®–∞–±–ª–æ–Ω—ã</h2>
                                <p class="text-gray-400 text-sm">–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>
                            </div>
                            <button onclick="openTemplateModal()" class="px-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">+ –ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω</button>
                        </div>
                        
                        <div id="templatesList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                        <div id="noTemplates" class="text-center text-gray-400 py-12 glass rounded-2xl">
                            <div class="text-4xl mb-4">üìù</div>
                            <div>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤</div>
                            <button onclick="openTemplateModal()" class="mt-4 px-6 py-2 gradient-bg rounded-xl text-sm font-semibold">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π</button>
                        </div>
                    </section>

                    <!-- Webhooks -->
                    <section id="dash-webhooks" class="dash-section hidden">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                            <div>
                                <h2 class="text-2xl font-bold">üîó –í–µ–±—Ö—É–∫–∏</h2>
                                <p class="text-gray-400 text-sm">–ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö</p>
                            </div>
                            <button onclick="openWebhookModal()" class="px-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">+ –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±—Ö—É–∫</button>
                        </div>

                        <div class="glass rounded-2xl p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4">üì° –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è</h3>
                            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3">
                                <div class="p-3 bg-black/20 rounded-xl text-sm">
                                    <span class="text-purple-400">api.request</span>
                                    <p class="text-gray-500 text-xs mt-1">–ö–∞–∂–¥—ã–π API –∑–∞–ø—Ä–æ—Å</p>
                                </div>
                                <div class="p-3 bg-black/20 rounded-xl text-sm">
                                    <span class="text-blue-400">key.created</span>
                                    <p class="text-gray-500 text-xs mt-1">–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞</p>
                                </div>
                                <div class="p-3 bg-black/20 rounded-xl text-sm">
                                    <span class="text-green-400">project.created</span>
                                    <p class="text-gray-500 text-xs mt-1">–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</p>
                                </div>
                                <div class="p-3 bg-black/20 rounded-xl text-sm">
                                    <span class="text-orange-400">limit.reached</span>
                                    <p class="text-gray-500 text-xs mt-1">–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç</p>
                                </div>
                                <div class="p-3 bg-black/20 rounded-xl text-sm">
                                    <span class="text-red-400">error.occurred</span>
                                    <p class="text-gray-500 text-xs mt-1">–û—à–∏–±–∫–∞ API</p>
                                </div>
                                <div class="p-3 bg-black/20 rounded-xl text-sm">
                                    <span class="text-cyan-400">db.write</span>
                                    <p class="text-gray-500 text-xs mt-1">–ó–∞–ø–∏—Å—å –≤ –ë–î</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="webhooksList" class="space-y-4"></div>
                        <div id="noWebhooks" class="text-center text-gray-400 py-12 glass rounded-2xl">
                            <div class="text-4xl mb-4">üîó</div>
                            <div>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤–µ–±—Ö—É–∫–æ–≤</div>
                            <button onclick="openWebhookModal()" class="mt-4 px-6 py-2 gradient-bg rounded-xl text-sm font-semibold">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π</button>
                        </div>
                    </section>
                </div>
            </main>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="fixed inset-0 bg-black/80 z-[1001] flex items-center justify-center p-3 sm:p-4 hidden overflow-y-auto">
        <div class="glass rounded-2xl p-5 sm:p-8 max-w-md w-full relative fade-in my-4">
            <button onclick="closeModal('authModal')" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            
            <div id="loginForm">
                <h2 class="text-2xl font-bold mb-2">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                <p class="text-gray-400 text-sm mb-6">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</p>
                
                <input type="email" id="loginEmail" placeholder="Email" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
                <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-6 focus:outline-none focus:ring-2 focus:ring-purple-500">
                
                <button onclick="login()" id="loginBtn" class="w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–í–æ–π—Ç–∏</button>
                
                <p class="text-center mt-6 text-gray-400 text-sm">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <button onclick="showAuth('register')" class="text-purple-400 hover:text-purple-300">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </p>
            </div>

            <div id="registerForm" class="hidden">
                <h2 class="text-2xl font-bold mb-2">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
                <p class="text-gray-400 text-sm mb-6">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞</p>
                
                <input type="text" id="regName" placeholder="–í–∞—à–µ –∏–º—è" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
                <input type="email" id="regEmail" placeholder="Email" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
                <input type="password" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤)" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-6 focus:outline-none focus:ring-2 focus:ring-purple-500">
                
                <button onclick="register()" id="regBtn" class="w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                
                <p class="text-center mt-6 text-gray-400 text-sm">
                    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <button onclick="showAuth('login')" class="text-purple-400 hover:text-purple-300">–í–æ–π—Ç–∏</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Key Modal -->
    <div id="keyModal" class="fixed inset-0 bg-black/80 z-[1001] flex items-center justify-center p-4 hidden overflow-y-auto">
        <div class="glass rounded-2xl p-6 sm:p-8 max-w-lg w-full relative fade-in my-8">
            <button onclick="closeModal('keyModal')" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            
            <h2 class="text-2xl font-bold mb-6">üîë –°–æ–∑–¥–∞—Ç—å API –∫–ª—é—á</h2>
            
            <div class="space-y-4">
                <div>
                    <label class="text-gray-400 text-sm mb-2 block">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" id="keyName" placeholder="–ú–æ–π –ø—Ä–æ–µ–∫—Ç" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>

                <div>
                    <label class="text-gray-400 text-sm mb-2 block">–¢–∏–ø –∫–ª—é—á–∞</label>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="selectKeyType('public')" id="ktPublic" class="kt-btn p-4 rounded-xl border-2 border-green-500 bg-green-500/10 text-left">
                            <div class="font-bold text-green-400">üåê –ü—É–±–ª–∏—á–Ω—ã–π</div>
                            <div class="text-xs text-gray-400 mt-1">pk_ ‚Ä¢ –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ</div>
                        </button>
                        <button onclick="selectKeyType('secret')" id="ktSecret" class="kt-btn p-4 rounded-xl border-2 border-gray-700 text-left hover:border-gray-600">
                            <div class="font-bold text-orange-400">üîí –°–µ–∫—Ä–µ—Ç–Ω—ã–π</div>
                            <div class="text-xs text-gray-400 mt-1">sk_ ‚Ä¢ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø</div>
                        </button>
                    </div>
                </div>

                <div id="secretWarn" class="hidden p-4 bg-red-500/10 border border-red-500/30 rounded-xl">
                    <div class="font-bold text-red-400 mb-2">‚ö†Ô∏è –í–ê–ñ–ù–û!</div>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li>‚Ä¢ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á</li>
                        <li>‚Ä¢ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ</li>
                        <li>‚Ä¢ –ü—Ä–∏ —É—Ç–µ—á–∫–µ ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–¥–∞–ª–∏—Ç–µ</li>
                    </ul>
                </div>

                <div>
                    <label class="text-gray-400 text-sm mb-2 block">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</label>
                    <select id="keyPurpose" class="w-full bg-black/30 rounded-xl p-4 text-white focus:outline-none">
                        <option value="general">üéØ –û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</option>
                        <option value="ai">üß† AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</option>
                        <option value="database">üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</option>
                        <option value="images">üé® –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</option>
                        <option value="testing">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                    </select>
                </div>

                <div id="permsBlock">
                    <label class="text-gray-400 text-sm mb-2 block">–†–∞–∑—Ä–µ—à–µ–Ω–∏—è</label>
                    <div class="space-y-2">
                        <label class="flex items-center gap-3 p-3 bg-black/30 rounded-xl cursor-pointer">
                            <input type="checkbox" id="permRead" checked disabled class="w-4 h-4 accent-purple-500">
                            <span>üìñ –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</span>
                        </label>
                        <label class="flex items-center gap-3 p-3 bg-black/30 rounded-xl cursor-pointer perm-wr">
                            <input type="checkbox" id="permWrite" disabled class="w-4 h-4 accent-purple-500">
                            <span class="text-gray-500">‚úèÔ∏è –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö</span>
                        </label>
                        <label class="flex items-center gap-3 p-3 bg-black/30 rounded-xl cursor-pointer perm-del">
                            <input type="checkbox" id="permDelete" disabled class="w-4 h-4 accent-purple-500">
                            <span class="text-gray-500">üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</span>
                        </label>
                        <label class="flex items-center gap-3 p-3 bg-black/30 rounded-xl cursor-pointer">
                            <input type="checkbox" id="permAI" checked class="w-4 h-4 accent-purple-500">
                            <span>üß† AI —Ñ—É–Ω–∫—Ü–∏–∏</span>
                        </label>
                    </div>
                </div>

                <div>
                    <label class="text-gray-400 text-sm mb-2 block">–î–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                    <input type="text" id="keyDomain" placeholder="example.com" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <p class="text-xs text-gray-500 mt-1">–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —ç—Ç–∏–º –¥–æ–º–µ–Ω–æ–º</p>
                </div>

                <div>
                    <label class="text-gray-400 text-sm mb-2 block">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
                    <select id="keyExpiry" class="w-full bg-black/30 rounded-xl p-4 text-white focus:outline-none">
                        <option value="never">‚ôæÔ∏è –ë–µ—Å—Å—Ä–æ—á–Ω–æ</option>
                        <option value="30">30 –¥–Ω–µ–π</option>
                        <option value="90">90 –¥–Ω–µ–π</option>
                        <option value="365">1 –≥–æ–¥</option>
                    </select>
                </div>
            </div>
            
            <button onclick="createKey()" class="w-full mt-6 py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á</button>
        </div>
    </div>

    <!-- Project Modal -->
    <div id="projModal" class="fixed inset-0 bg-black/80 z-[1001] flex items-center justify-center p-3 sm:p-4 hidden overflow-y-auto">
        <div class="glass rounded-2xl p-5 sm:p-8 max-w-md w-full relative fade-in my-4">
            <button onclick="closeModal('projModal')" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            
            <h2 class="text-2xl font-bold mb-6">üìÅ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</h2>
            
            <input type="text" id="projName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
            <input type="text" id="projDomain" placeholder="–î–æ–º–µ–Ω (example.com)" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
            <textarea id="projDesc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none resize-none h-20"></textarea>
            <select id="projKey" class="w-full bg-black/30 rounded-xl p-4 text-white mb-6 focus:outline-none">
                <option value="">–ü—Ä–∏–≤—è–∑–∞—Ç—å API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>
            </select>
            
            <button onclick="createProj()" class="w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
        </div>
    </div>

    <!-- Template Modal -->
    <div id="templateModal" class="fixed inset-0 bg-black/80 z-[1001] flex items-center justify-center p-3 sm:p-4 hidden overflow-y-auto">
        <div class="glass rounded-2xl p-5 sm:p-8 max-w-md w-full relative fade-in my-4">
            <button onclick="closeModal('templateModal')" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            
            <h2 class="text-2xl font-bold mb-6">üìù –ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω</h2>
            
            <input type="text" id="templateName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
            <select id="templateType" class="w-full bg-black/30 rounded-xl p-4 text-white mb-3 focus:outline-none">
                <option value="ai">üß† AI –ü—Ä–æ–º–ø—Ç</option>
                <option value="image">üé® Image –ü—Ä–æ–º–ø—Ç</option>
                <option value="db">üóÑÔ∏è DB –ó–∞–ø—Ä–æ—Å</option>
            </select>
            <textarea id="templateContent" placeholder="–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —à–∞–±–ª–æ–Ω–∞..." class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none resize-none h-32"></textarea>
            <textarea id="templateDesc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-6 focus:outline-none resize-none h-20"></textarea>
            
            <button onclick="createTemplate()" class="w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
        </div>
    </div>

    <!-- Webhook Modal -->
    <div id="webhookModal" class="fixed inset-0 bg-black/80 z-[1001] flex items-center justify-center p-3 sm:p-4 hidden overflow-y-auto">
        <div class="glass rounded-2xl p-5 sm:p-8 max-w-md w-full relative fade-in my-4">
            <button onclick="closeModal('webhookModal')" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            
            <h2 class="text-2xl font-bold mb-6">üîó –ù–æ–≤—ã–π –≤–µ–±—Ö—É–∫</h2>
            
            <input type="text" id="webhookName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
            <input type="url" id="webhookUrl" placeholder="URL (https://...)" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-3 focus:outline-none focus:ring-2 focus:ring-purple-500">
            <select id="webhookEvent" class="w-full bg-black/30 rounded-xl p-4 text-white mb-3 focus:outline-none">
                <option value="api.request">üì° api.request - –ö–∞–∂–¥—ã–π API –∑–∞–ø—Ä–æ—Å</option>
                <option value="key.created">üîë key.created - –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞</option>
                <option value="project.created">üìÅ project.created - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</option>
                <option value="error.occurred">‚ùå error.occurred - –û—à–∏–±–∫–∞ API</option>
                <option value="db.write">üíæ db.write - –ó–∞–ø–∏—Å—å –≤ –ë–î</option>
            </select>
            <input type="text" id="webhookSecret" placeholder="–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)" class="w-full bg-black/30 rounded-xl p-4 text-white placeholder-gray-500 mb-6 focus:outline-none">
            
            <button onclick="createWebhook()" class="w-full py-3 gradient-bg rounded-xl font-semibold hover:opacity-90 transition">–î–æ–±–∞–≤–∏—Ç—å –≤–µ–±—Ö—É–∫</button>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-4 sm:bottom-6 left-4 right-4 sm:left-auto sm:right-6 transform translate-y-20 opacity-0 transition-all duration-300 z-[1002]">
        <div class="glass rounded-xl px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-center sm:justify-start gap-2 sm:gap-3">
            <span id="toastIcon">‚úÖ</span>
            <span id="toastMsg" class="text-sm sm:text-base">–£—Å–ø–µ—à–Ω–æ!</span>
        </div>
    </div>

    <!-- API Module (—Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ endpoints) -->
    <script src="api.js"></script>
    
    <script>
        // Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAQe5UUx7HkkF98Lo-j0KCufdPmQzzZySs",
            authDomain: "tanchiki-45b4e.firebaseapp.com",
            databaseURL: "https://tanchiki-45b4e-default-rtdb.firebaseio.com",
            projectId: "tanchiki-45b4e",
            storageBucket: "tanchiki-45b4e.firebasestorage.app",
            messagingSenderId: "152159817482",
            appId: "1:152159817482:web:0957e2ed0d16628433f4f3"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // State
        let user = null;
        let keys = [];
        let projects = [];
        let templates = [];
        let webhooks = [];
        let history = [];
        let keyType = 'public';

        // Helpers
        const $ = id => document.getElementById(id);
        const show = el => el?.classList.remove('hidden');
        const hide = el => el?.classList.add('hidden');
        
        function toast(msg, err = false) {
            $('toastIcon').textContent = err ? '‚ùå' : '‚úÖ';
            $('toastMsg').textContent = msg;
            const t = $('toast');
            t.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => t.classList.add('translate-y-20', 'opacity-0'), 3000);
        }

        function genId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2, 9);
        }

        function genKey(type) {
            const prefix = type === 'secret' ? 'sk_' : 'pk_';
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let key = prefix;
            for (let i = 0; i < 32; i++) key += chars[Math.floor(Math.random() * chars.length)];
            return key;
        }

        async function hashPwd(pwd) {
            const data = new TextEncoder().encode(pwd + 'okak_2026');
            const hash = await crypto.subtle.digest('SHA-256', data);
            return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Navigation
        function goHome() {
            if (user) {
                // –ï—Å–ª–∏ –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ dashboard
                if (!$('guestPage').classList.contains('hidden')) {
                    hide($('guestPage'));
                    show($('dashboard'));
                }
                showDash('overview');
            } else {
                hide($('dashboard'));
                show($('guestPage'));
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function updateNav(isOnLanding = false) {
            if (user) {
                // –ó–∞–ª–æ–≥–∏–Ω–µ–Ω
                if (isOnLanding) {
                    // –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
                    $('navButtons').innerHTML = `
                        <button onclick="backToDashboard()" class="px-4 py-2 gradient-bg rounded-xl hover:opacity-90 transition text-sm font-semibold flex items-center gap-2">
                            <span>üìä</span>
                            <span class="hidden sm:inline">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
                        </button>
                    `;
                    hide($('navLinks'));
                    hide($('navLinksUser'));
                    show($('navLinksUserHome'));
                } else {
                    // –í dashboard
                    $('navButtons').innerHTML = `
                        <span class="text-gray-400 text-sm hidden lg:inline mr-2">${user.name || user.email}</span>
                        <button onclick="logout()" class="px-4 py-2 glass rounded-xl hover:bg-white/10 transition text-sm">–í—ã–π—Ç–∏</button>
                    `;
                    hide($('navLinks'));
                    hide($('navLinksUserHome'));
                    show($('navLinksUser'));
                }
            } else {
                // –ì–æ—Å—Ç—å
                $('navButtons').innerHTML = `
                    <button onclick="showAuth('login')" class="px-4 py-2 text-gray-300 hover:text-white transition text-sm">–í–æ–π—Ç–∏</button>
                    <button onclick="showAuth('register')" class="px-5 py-2 gradient-bg rounded-xl font-medium hover:opacity-90 transition text-sm">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                `;
                show($('navLinks'));
                hide($('navLinksUser'));
                hide($('navLinksUserHome'));
            }
        }
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥ (–≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É) - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö
        function goToLanding() {
            hide($('dashboard'));
            show($('guestPage'));
            
            if (user) {
                // –î–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Hero
                hide($('heroGuest'));
                show($('heroUser'));
                $('heroUserName').textContent = user.name || '–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫';
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
                $('heroStatToday').textContent = user.todayReqs || 0;
                $('heroStatTotal').textContent = user.totalReqs || 0;
                $('heroStatKeys').textContent = keys.length || 0;
                $('heroStatProjects').textContent = projects.length || 0;
            } else {
                // –î–ª—è –≥–æ—Å—Ç–µ–π - –æ–±—ã—á–Ω—ã–π Hero
                show($('heroGuest'));
                hide($('heroUser'));
            }
            
            updateNav(true); // true = –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ Dashboard (–¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö)
        function backToDashboard() {
            if (user) {
                hide($('guestPage'));
                show($('dashboard'));
                updateNav(false); // false = –≤ dashboard
                showDash('overview');
            }
        }

        // Modal helpers
        function closeModal(id) { hide($(id)); }
        function openModal(id) { show($(id)); }

        // Auth
        function showAuth(type) {
            openModal('authModal');
            if (type === 'login') {
                show($('loginForm'));
                hide($('registerForm'));
            } else {
                hide($('loginForm'));
                show($('registerForm'));
            }
        }

        async function register() {
            const name = $('regName').value.trim();
            const email = $('regEmail').value.trim();
            const pwd = $('regPassword').value;

            if (!name || !email || !pwd) return toast('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', true);
            if (pwd.length < 6) return toast('–ü–∞—Ä–æ–ª—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤', true);
            if (!email.includes('@')) return toast('–ù–µ–≤–µ—Ä–Ω—ã–π email', true);

            $('regBtn').disabled = true;
            $('regBtn').textContent = '–°–æ–∑–¥–∞–Ω–∏–µ...';

            try {
                const snap = await db.ref('okak_users').orderByChild('email').equalTo(email).once('value');
                if (snap.exists()) {
                    toast('Email —É–∂–µ –∑–∞–Ω—è—Ç', true);
                    $('regBtn').disabled = false;
                    $('regBtn').textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
                    return;
                }

                const id = genId();
                const userData = {
                    id, name, email,
                    password: await hashPwd(pwd),
                    createdAt: Date.now(),
                    totalReqs: 0,
                    todayReqs: 0,
                    lastDate: new Date().toDateString()
                };

                await db.ref('okak_users/' + id).set(userData);
                user = userData;
                localStorage.setItem('okak_uid', id);
                closeModal('authModal');
                showDashboard();
                toast('–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω!');
            } catch (e) {
                toast('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', true);
            }

            $('regBtn').disabled = false;
            $('regBtn').textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
        }

        async function login() {
            const email = $('loginEmail').value.trim();
            const pwd = $('loginPassword').value;

            if (!email || !pwd) return toast('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', true);

            $('loginBtn').disabled = true;
            $('loginBtn').textContent = '–í—Ö–æ–¥...';

            try {
                const hash = await hashPwd(pwd);
                const snap = await db.ref('okak_users').orderByChild('email').equalTo(email).once('value');
                
                if (!snap.exists()) {
                    toast('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', true);
                    $('loginBtn').disabled = false;
                    $('loginBtn').textContent = '–í–æ–π—Ç–∏';
                    return;
                }

                let found = null;
                snap.forEach(child => {
                    if (child.val().password === hash) found = child.val();
                });

                if (!found) {
                    toast('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å', true);
                    $('loginBtn').disabled = false;
                    $('loginBtn').textContent = '–í–æ–π—Ç–∏';
                    return;
                }

                user = found;
                localStorage.setItem('okak_uid', found.id);
                closeModal('authModal');
                showDashboard();
                toast('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!');
            } catch (e) {
                toast('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞', true);
            }

            $('loginBtn').disabled = false;
            $('loginBtn').textContent = '–í–æ–π—Ç–∏';
        }

        function logout() {
            user = null;
            keys = [];
            projects = [];
            localStorage.removeItem('okak_uid');
            hide($('dashboard'));
            show($('guestPage'));
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–æ—Å—Ç–µ–≤–æ–π Hero
            show($('heroGuest'));
            hide($('heroUser'));
            updateNav(true);
            toast('–í—ã –≤—ã—à–ª–∏');
        }

        // Dashboard
        function showDashboard() {
            hide($('guestPage'));
            show($('dashboard'));
            updateNav(false); // –í dashboard
            $('userName').textContent = user.name;
            $('setName').value = user.name;
            $('setEmail').value = user.email;
            loadData();
        }

        async function loadData() {
            await Promise.all([loadKeys(), loadProjects(), loadStats(), loadTemplates(), loadWebhooks(), loadHistory()]);
            renderChart();
            loadDbTree();
            updateSettingsStats();
        }

        async function loadStats() {
            const today = new Date().toDateString();
            if (user.lastDate !== today) {
                user.todayReqs = 0;
                user.lastDate = today;
                await db.ref('okak_users/' + user.id).update({ todayReqs: 0, lastDate: today });
            }
            $('statToday').textContent = user.todayReqs || 0;
            $('statTotal').textContent = user.totalReqs || 0;
        }

        async function incReqs() {
            user.todayReqs = (user.todayReqs || 0) + 1;
            user.totalReqs = (user.totalReqs || 0) + 1;
            await db.ref('okak_users/' + user.id).update({
                todayReqs: user.todayReqs,
                totalReqs: user.totalReqs
            });
            loadStats();
        }

        function renderChart() {
            const c = $('chart');
            c.innerHTML = '';
            
            // –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const totalReqs = user.totalReqs || 0;
            const todayReqs = user.todayReqs || 0;
            const avgPerDay = Math.max(1, Math.floor(totalReqs / 7));
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞ 7 –¥–Ω–µ–π (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ)
            const days = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            const todayIndex = new Date().getDay();
            const realTodayIndex = todayIndex === 0 ? 6 : todayIndex - 1; // –ü–Ω=0, –í—Å=6
            
            const data = [];
            for (let i = 0; i < 7; i++) {
                if (i === realTodayIndex) {
                    data.push(todayReqs);
                } else if (i < realTodayIndex) {
                    // –ü—Ä–æ—à–ª—ã–µ –¥–Ω–∏ - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã
                    const remaining = totalReqs - todayReqs;
                    const dayShare = Math.floor(remaining / Math.max(1, realTodayIndex));
                    data.push(Math.max(0, dayShare + Math.floor(Math.random() * 3) - 1));
                } else {
                    // –ë—É–¥—É—â–∏–µ –¥–Ω–∏ - 0
                    data.push(0);
                }
            }
            
            const maxVal = Math.max(...data, 1);
            
            data.forEach((val, i) => {
                const wrapper = document.createElement('div');
                wrapper.className = 'flex-1 flex flex-col items-center';
                
                // –ó–Ω–∞—á–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö—É
                const label = document.createElement('div');
                label.className = 'text-xs text-gray-400 mb-1';
                label.textContent = val > 0 ? val : '';
                
                // –°—Ç–æ–ª–±–∏–∫
                const bar = document.createElement('div');
                const h = Math.max(8, (val / maxVal) * 100);
                bar.className = 'w-full gradient-bg rounded-t transition-all hover:opacity-80 cursor-pointer';
                bar.style.height = h + 'px';
                bar.title = `${days[i]}: ${val} –∑–∞–ø—Ä–æ—Å–æ–≤`;
                
                // –ü–æ–¥–ø–∏—Å—å –¥–Ω—è
                const dayLabel = document.createElement('div');
                dayLabel.className = 'text-xs text-gray-500 mt-1';
                dayLabel.textContent = days[i];
                
                wrapper.appendChild(label);
                wrapper.appendChild(bar);
                wrapper.appendChild(dayLabel);
                c.appendChild(wrapper);
            });
        }

        // Dashboard sections
        function showDash(section) {
            document.querySelectorAll('.dash-section').forEach(s => hide(s));
            show($('dash-' + section));
            
            document.querySelectorAll('.sidebar-link').forEach(l => {
                l.classList.remove('active');
                l.classList.add('text-gray-400');
            });
            document.querySelector(`.sidebar-link[data-section="${section}"]`)?.classList.add('active');
            document.querySelector(`.sidebar-link[data-section="${section}"]`)?.classList.remove('text-gray-400');
            
            document.querySelectorAll('.mob-nav').forEach(b => {
                b.classList.remove('bg-purple-500/20');
                b.classList.add('text-gray-400');
            });
            document.querySelector(`.mob-nav[data-section="${section}"]`)?.classList.add('bg-purple-500/20');
            document.querySelector(`.mob-nav[data-section="${section}"]`)?.classList.remove('text-gray-400');
        }

        // API Keys
        async function loadKeys() {
            const snap = await db.ref('okak_keys').orderByChild('userId').equalTo(user.id).once('value');
            keys = [];
            snap.forEach(child => keys.push(child.val()));
            renderKeys();
            $('statKeys').textContent = keys.length;
        }

        function renderKeys() {
            const list = $('keysList');
            if (keys.length === 0) {
                list.innerHTML = '';
                show($('noKeys'));
                return;
            }
            hide($('noKeys'));
            list.innerHTML = keys.map(k => `
                <div class="glass rounded-xl p-4 sm:p-6">
                    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 flex-wrap mb-2">
                                <span class="font-bold">${k.name}</span>
                                <span class="px-2 py-0.5 rounded text-xs ${k.type === 'secret' ? 'bg-orange-500/20 text-orange-400' : 'bg-green-500/20 text-green-400'}">
                                    ${k.type === 'secret' ? 'üîí –°–µ–∫—Ä–µ—Ç–Ω—ã–π' : 'üåê –ü—É–±–ª–∏—á–Ω—ã–π'}
                                </span>
                                <span class="px-2 py-0.5 bg-purple-500/20 text-purple-300 rounded text-xs">${k.purpose || 'general'}</span>
                            </div>
                            <div class="mono text-sm text-gray-400 break-all">${k.key}</div>
                            <div class="text-xs text-gray-500 mt-2">
                                –°–æ–∑–¥–∞–Ω: ${new Date(k.createdAt).toLocaleDateString('ru')}
                                ${k.domain ? ' ‚Ä¢ ' + k.domain : ''}
                                ${k.expiry && k.expiry !== 'never' ? ' ‚Ä¢ –ò—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ' + k.expiry + ' –¥–Ω–µ–π' : ''}
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="copyKey('${k.key}')" class="px-4 py-2 glass rounded-lg hover:bg-white/10 transition text-sm">üìã</button>
                            <button onclick="deleteKey('${k.id}')" class="px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition text-sm">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function openKeyModal() {
            openModal('keyModal');
            keyType = 'public';
            updateKeyTypeUI();
            $('keyName').value = '';
            $('keyDomain').value = '';
        }

        function selectKeyType(type) {
            keyType = type;
            updateKeyTypeUI();
        }

        function updateKeyTypeUI() {
            const isSecret = keyType === 'secret';
            $('ktPublic').className = `kt-btn p-4 rounded-xl border-2 text-left ${!isSecret ? 'border-green-500 bg-green-500/10' : 'border-gray-700 hover:border-gray-600'}`;
            $('ktSecret').className = `kt-btn p-4 rounded-xl border-2 text-left ${isSecret ? 'border-orange-500 bg-orange-500/10' : 'border-gray-700 hover:border-gray-600'}`;
            
            if (isSecret) {
                show($('secretWarn'));
                $('permWrite').disabled = false;
                $('permWrite').checked = true;
                $('permDelete').disabled = false;
                $('permDelete').checked = true;
                document.querySelectorAll('.perm-wr span, .perm-del span').forEach(s => s.classList.remove('text-gray-500'));
            } else {
                hide($('secretWarn'));
                $('permWrite').disabled = true;
                $('permWrite').checked = false;
                $('permDelete').disabled = true;
                $('permDelete').checked = false;
                document.querySelectorAll('.perm-wr span, .perm-del span').forEach(s => s.classList.add('text-gray-500'));
            }
        }

        async function createKey() {
            const name = $('keyName').value.trim() || 'API Key ' + (keys.length + 1);
            const id = genId();
            const keyData = {
                id,
                userId: user.id,
                key: genKey(keyType),
                name,
                type: keyType,
                purpose: $('keyPurpose').value,
                domain: $('keyDomain').value.trim() || null,
                expiry: $('keyExpiry').value,
                permissions: {
                    read: true,
                    write: keyType === 'secret' && $('permWrite').checked,
                    delete: keyType === 'secret' && $('permDelete').checked,
                    ai: $('permAI').checked
                },
                createdAt: Date.now()
            };

            await db.ref('okak_keys/' + id).set(keyData);
            keys.push(keyData);
            renderKeys();
            $('statKeys').textContent = keys.length;
            closeModal('keyModal');
            toast('–ö–ª—é—á —Å–æ–∑–¥–∞–Ω!');
        }

        function copyKey(key) {
            navigator.clipboard.writeText(key);
            toast('–ö–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
        }

        async function deleteKey(id) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–ª—é—á?')) return;
            await db.ref('okak_keys/' + id).remove();
            keys = keys.filter(k => k.id !== id);
            renderKeys();
            $('statKeys').textContent = keys.length;
            toast('–ö–ª—é—á —É–¥–∞–ª—ë–Ω');
        }

        // Projects
        async function loadProjects() {
            const snap = await db.ref('okak_projects').orderByChild('userId').equalTo(user.id).once('value');
            projects = [];
            snap.forEach(child => projects.push(child.val()));
            renderProjects();
            $('statProjects').textContent = projects.length;
        }

        function renderProjects() {
            const list = $('projList');
            if (projects.length === 0) {
                list.innerHTML = '';
                show($('noProj'));
                return;
            }
            hide($('noProj'));
            list.innerHTML = projects.map(p => `
                <div class="glass rounded-xl p-6 card-hover">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="w-12 h-12 gradient-bg rounded-xl flex items-center justify-center text-xl">üìÅ</div>
                        <div class="flex-1 min-w-0">
                            <div class="font-bold truncate">${p.name}</div>
                            <div class="text-xs text-gray-400 truncate">${p.domain || '–ë–µ–∑ –¥–æ–º–µ–Ω–∞'}</div>
                        </div>
                    </div>
                    ${p.description ? `<p class="text-sm text-gray-400 mb-3 line-clamp-2">${p.description}</p>` : ''}
                    <div class="text-xs text-gray-500 mb-3">${p.apiKey ? 'API: ' + p.apiKey.substring(0, 15) + '...' : '–ö–ª—é—á –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω'}</div>
                    <button onclick="deleteProj('${p.id}')" class="w-full py-2 bg-red-500/20 text-red-400 rounded-lg text-sm hover:bg-red-500/30 transition">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            `).join('');
        }

        function openProjModal() {
            openModal('projModal');
            $('projName').value = '';
            $('projDomain').value = '';
            $('projDesc').value = '';
            $('projKey').innerHTML = '<option value="">–ü—Ä–∏–≤—è–∑–∞—Ç—å API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</option>' +
                keys.map(k => `<option value="${k.key}">${k.name} (${k.type})</option>`).join('');
        }

        async function createProj() {
            const name = $('projName').value.trim();
            if (!name) return toast('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ', true);

            const id = genId();
            const projData = {
                id,
                userId: user.id,
                name,
                domain: $('projDomain').value.trim(),
                description: $('projDesc').value.trim(),
                apiKey: $('projKey').value,
                createdAt: Date.now()
            };

            await db.ref('okak_projects/' + id).set(projData);
            projects.push(projData);
            renderProjects();
            $('statProjects').textContent = projects.length;
            closeModal('projModal');
            toast('–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω!');
        }

        async function deleteProj(id) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç?')) return;
            await db.ref('okak_projects/' + id).remove();
            projects = projects.filter(p => p.id !== id);
            renderProjects();
            $('statProjects').textContent = projects.length;
            toast('–ü—Ä–æ–µ–∫—Ç —É–¥–∞–ª—ë–Ω');
        }

        // Database
        async function loadDbTree() {
            try {
                const snap = await db.ref('okak_data/' + user.id).once('value');
                const data = snap.val();
                $('dbTree').innerHTML = data ? `<pre>${JSON.stringify(data, null, 2)}</pre>` : '<span class="text-gray-500">–ü—É—Å—Ç–æ</span>';
            } catch (e) {
                $('dbTree').innerHTML = '<span class="text-red-400">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</span>';
            }
        }

        async function dbRead() {
            const path = $('dbPath').value.trim();
            if (!path) return toast('–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å', true);
            try {
                const snap = await db.ref(`okak_data/${user.id}/${path}`).once('value');
                show($('dbResult'));
                $('dbResultPre').textContent = JSON.stringify(snap.val(), null, 2) || 'null';
                incReqs();
            } catch (e) {
                toast('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è', true);
            }
        }

        async function dbWrite() {
            const path = $('dbPath').value.trim();
            const data = $('dbData').value.trim();
            if (!path) return toast('–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å', true);

            let parsed;
            try { parsed = JSON.parse(data); } catch { parsed = data; }

            try {
                await db.ref(`okak_data/${user.id}/${path}`).set(parsed);
                show($('dbResult'));
                $('dbResultPre').textContent = '‚úÖ –ó–∞–ø–∏—Å–∞–Ω–æ!';
                incReqs();
                loadDbTree();
                toast('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!');
            } catch (e) {
                toast('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏', true);
            }
        }

        async function dbDelete() {
            const path = $('dbPath').value.trim();
            if (!path) return toast('–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å', true);
            if (!confirm('–£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?')) return;

            try {
                await db.ref(`okak_data/${user.id}/${path}`).remove();
                show($('dbResult'));
                $('dbResultPre').textContent = 'üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ!';
                incReqs();
                loadDbTree();
                toast('–£–¥–∞–ª–µ–Ω–æ');
            } catch (e) {
                toast('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è', true);
            }
        }

        // Settings
        async function saveProfile() {
            const name = $('setName').value.trim();
            if (!name) return toast('–í–≤–µ–¥–∏—Ç–µ –∏–º—è', true);
            
            user.name = name;
            await db.ref('okak_users/' + user.id).update({ name });
            $('userName').textContent = name;
            toast('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!');
        }

        async function deleteAccount() {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!')) return;
            if (!confirm('–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) return;
            
            await db.ref('okak_users/' + user.id).remove();
            await db.ref('okak_keys').orderByChild('userId').equalTo(user.id).once('value', snap => {
                snap.forEach(child => child.ref.remove());
            });
            await db.ref('okak_projects').orderByChild('userId').equalTo(user.id).once('value', snap => {
                snap.forEach(child => child.ref.remove());
            });
            await db.ref('okak_data/' + user.id).remove();
            
            logout();
            toast('–ê–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª—ë–Ω');
        }

        // Guest Playground
        async function testAI() {
            const prompt = $('aiPrompt').value.trim();
            if (!prompt) return toast('–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å', true);

            $('aiBtn').disabled = true;
            $('aiBtnText').textContent = '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...';
            show($('aiLoader'));
            show($('aiResult'));
            $('aiResult').textContent = 'ü§î –î—É–º–∞—é... (—ç—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 30 —Å–µ–∫)';

            try {
                const model = $('aiModel').value;
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º OKAK.ai —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–≤—Ç–æ—Ä–∞–º–∏ –∏ fallback
                const text = await OKAK.ai(prompt, model);
                $('aiResult').textContent = text || '–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å.';
            } catch (e) {
                console.error('AI Error:', e);
                $('aiResult').textContent = '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:\n‚Ä¢ –î—Ä—É–≥—É—é –º–æ–¥–µ–ª—å (Mistral –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ)\n‚Ä¢ –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å\n‚Ä¢ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É';
            }

            $('aiBtn').disabled = false;
            $('aiBtnText').textContent = '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å';
            hide($('aiLoader'));
        }

        async function testImage() {
            const prompt = $('imgPrompt').value.trim();
            if (!prompt) return toast('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ', true);

            $('imgBtn').disabled = true;
            $('imgBtnText').textContent = '–°–æ–∑–¥–∞–Ω–∏–µ...';
            show($('imgLoader'));
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º placeholder –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
            show($('imgResult'));
            $('generatedImg').style.opacity = '0.3';
            $('generatedImg').src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><rect fill="%231a1b26" width="512" height="512"/><text x="50%" y="50%" fill="%23667eea" font-size="24" text-anchor="middle" dy=".3em">‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è...</text></svg>';

            const model = $('imgModel').value;
            const url = OKAK.image(prompt, { model });
            
            const img = $('generatedImg');
            
            // –¢–∞–π–º–∞—É—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const timeout = setTimeout(() => {
                // –ü—Ä–æ–±—É–µ–º turbo –º–æ–¥–µ–ª—å –∫–∞–∫ fallback
                if (model !== 'turbo') {
                    toast('–ü—Ä–æ–±—É–µ–º –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å...', false);
                    img.src = OKAK.image(prompt, { model: 'turbo' });
                }
            }, 20000);
            
            img.onload = () => {
                clearTimeout(timeout);
                img.style.opacity = '1';
                $('imgBtn').disabled = false;
                $('imgBtnText').textContent = '–°–æ–∑–¥–∞—Ç—å';
                hide($('imgLoader'));
            };
            img.onerror = () => {
                clearTimeout(timeout);
                // –ü—Ä–æ–±—É–µ–º –µ—â—ë —Ä–∞–∑ —Å turbo
                if (model !== 'turbo') {
                    img.src = OKAK.image(prompt, { model: 'turbo' });
                } else {
                    toast('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å.', true);
                    hide($('imgResult'));
                    $('imgBtn').disabled = false;
                    $('imgBtnText').textContent = '–°–æ–∑–¥–∞—Ç—å';
                    hide($('imgLoader'));
                }
            };
            img.src = url;
        }

        function testQR() {
            const data = $('qrData').value.trim();
            if (!data) return toast('–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ', true);
            const color = $('qrColor').value || '000000';
            const size = $('qrSize').value || 200;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            show($('qrResult'));
            $('generatedQR').style.opacity = '0.3';
            
            const url = OKAK.qr(data, { size: parseInt(size), color });
            const img = $('generatedQR');
            
            img.onload = () => {
                img.style.opacity = '1';
                toast('QR-–∫–æ–¥ —Å–æ–∑–¥–∞–Ω!');
            };
            img.onerror = () => {
                toast('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR', true);
                hide($('qrResult'));
            };
            img.src = url;
        }

        async function testHash(algo) {
            const text = $('cryptoInput').value;
            if (!text) return toast('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', true);
            const hash = await OKAK.hash(text, algo);
            $('cryptoResult').textContent = hash;
            show($('cryptoResult'));
        }

        function testBase64(mode) {
            const text = $('cryptoInput').value;
            if (!text) return toast('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', true);
            try {
                $('cryptoResult').textContent = OKAK.base64(text, mode);
                show($('cryptoResult'));
            } catch (e) {
                toast('–û—à–∏–±–∫–∞', true);
            }
        }

        function testUUID() {
            $('cryptoResult').textContent = OKAK.uuid();
            show($('cryptoResult'));
        }

        // Weather
        async function testWeather() {
            const city = $('weatherCity').value.trim();
            if (!city) return toast('–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥', true);
            
            $('weatherBtn').disabled = true;
            $('weatherBtn').textContent = '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...';
            show($('weatherResult'));
            $('weatherData').innerHTML = '<div class="text-center text-gray-400">üå§Ô∏è –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–≥–æ–¥—É...</div>';
            
            try {
                const w = await OKAK.weather(city);
                $('weatherData').innerHTML = `
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${w.icon}</div>
                        <div class="text-2xl font-bold">${w.temp}¬∞C</div>
                        <div class="text-gray-400">${w.description}</div>
                        <div class="text-sm text-gray-500">${w.city}, ${w.country}</div>
                    </div>
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <div class="p-2 bg-black/20 rounded-lg">üí® –í–µ—Ç–µ—Ä: ${w.wind} –∫–º/—á</div>
                        <div class="p-2 bg-black/20 rounded-lg">üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å: ${w.humidity}%</div>
                    </div>
                `;
                toast('–ü–æ–≥–æ–¥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
            } catch (e) {
                $('weatherData').innerHTML = `<div class="text-center text-red-400">‚ùå ${e.message}</div>`;
            }
            
            $('weatherBtn').disabled = false;
            $('weatherBtn').textContent = '–£–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É';
        }

        // Translate
        async function testTranslate() {
            const text = $('translateText').value.trim();
            if (!text) return toast('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', true);
            
            $('translateBtn').disabled = true;
            $('translateBtn').textContent = '‚è≥ –ü–µ—Ä–µ–≤–æ–¥...';
            show($('translateResult'));
            $('translateResult').textContent = 'üîÑ –ü–µ—Ä–µ–≤–æ–¥–∏–º... (5-15 —Å–µ–∫)';
            
            try {
                const from = $('translateFrom').value;
                const to = $('translateTo').value;
                const result = await OKAK.translate(text, from, to);
                $('translateResult').textContent = result;
                toast('–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–æ!');
            } catch (e) {
                $('translateResult').textContent = '‚ùå –û—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.';
            }
            
            $('translateBtn').disabled = false;
            $('translateBtn').textContent = '–ü–µ—Ä–µ–≤–µ—Å—Ç–∏';
        }

        // Fun - –í–°–ï –õ–û–ö–ê–õ–¨–ù–´–ï, –ú–û–ú–ï–ù–¢–ê–õ–¨–ù–û –†–ê–ë–û–¢–ê–Æ–¢
        function testJoke() {
            const joke = OKAK.joke();
            $('funResult').innerHTML = `<div class="text-lg">üòÑ</div><div class="mt-2">${joke}</div>`;
            show($('funResult'));
            toast('–í–æ—Ç —à—É—Ç–∫–∞!');
        }

        function testQuote() {
            const q = OKAK.quote();
            $('funResult').innerHTML = `<div class="text-lg">üí¨</div><div class="mt-2 italic">"${q.text}"</div><div class="text-purple-400 mt-2">‚Äî ${q.author}</div>`;
            show($('funResult'));
            toast('–í–æ—Ç —Ü–∏—Ç–∞—Ç–∞!');
        }

        function testFact() {
            const fact = OKAK.fact();
            $('funResult').innerHTML = `<div class="text-lg">üß†</div><div class="mt-2">${fact}</div>`;
            show($('funResult'));
            toast('–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ!');
        }

        function testPassword() {
            const pwd = OKAK.password(16, { uppercase: true, lowercase: true, numbers: true, symbols: true });
            $('funResult').innerHTML = `<div class="text-lg">üîë</div><div class="mono text-lg mt-2 p-2 bg-black/30 rounded-lg select-all">${pwd}</div><div class="text-xs text-gray-500 mt-2">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</div>`;
            $('funResult').onclick = () => { navigator.clipboard.writeText(pwd); toast('–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!'); };
            $('funResult').style.cursor = 'pointer';
            show($('funResult'));
        }

        // Dashboard Playground
        async function dTestAI() {
            const prompt = $('dAiPrompt').value.trim();
            if (!prompt) return toast('–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å', true);

            $('dAiBtn').disabled = true;
            $('dAiBtn').textContent = '‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è...';
            show($('dAiResult'));
            $('dAiResult').textContent = 'ü§î –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∑–∞–ø—Ä–æ—Å... (–¥–æ 30 —Å–µ–∫)';

            try {
                const model = $('dAiModel').value;
                const text = await OKAK.ai(prompt, model);
                $('dAiResult').textContent = text || '–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç';
                trackUsage('ai', 'AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞', prompt.substring(0, 50) + '...');
            } catch (e) {
                console.error('AI Error:', e);
                $('dAiResult').textContent = '‚ùå –û—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å –∏–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç–µ –∑–∞–ø—Ä–æ—Å.';
            }

            $('dAiBtn').disabled = false;
            $('dAiBtn').textContent = '–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å';
        }

        async function dTestImg() {
            const prompt = $('dImgPrompt').value.trim();
            if (!prompt) return toast('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ', true);

            $('dImgBtn').disabled = true;
            $('dImgBtn').textContent = '‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ...';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å placeholder
            show($('dImgResult'));
            $('dGenImg').style.opacity = '0.3';

            const model = $('dImgModel').value;
            const url = OKAK.image(prompt, { model });
            
            const img = $('dGenImg');
            
            // –¢–∞–π–º–∞—É—Ç - –ø—Ä–æ–±—É–µ–º turbo –µ—Å–ª–∏ flux –¥–æ–ª–≥–æ
            const timeout = setTimeout(() => {
                if (model !== 'turbo') {
                    toast('–ü—Ä–æ–±—É–µ–º –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å...', false);
                    img.src = OKAK.image(prompt, { model: 'turbo' });
                }
            }, 20000);
            
            img.onload = () => {
                clearTimeout(timeout);
                img.style.opacity = '1';
                $('dImgBtn').disabled = false;
                $('dImgBtn').textContent = '–°–æ–∑–¥–∞—Ç—å';
                trackUsage('image', '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', prompt.substring(0, 50));
            };
            img.onerror = () => {
                clearTimeout(timeout);
                if (model !== 'turbo') {
                    img.src = OKAK.image(prompt, { model: 'turbo' });
                } else {
                    toast('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏', true);
                    hide($('dImgResult'));
                    $('dImgBtn').disabled = false;
                    $('dImgBtn').textContent = '–°–æ–∑–¥–∞—Ç—å';
                }
            };
            img.src = url;
        }

        function dTestQR() {
            const data = $('dQrData').value.trim();
            if (!data) return toast('–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ', true);
            
            show($('dQrResult'));
            $('dGenQR').style.opacity = '0.3';
            
            const url = OKAK.qr(data, { size: 200, color: '667eea' });
            const img = $('dGenQR');
            
            img.onload = () => {
                img.style.opacity = '1';
                toast('QR —Å–æ–∑–¥–∞–Ω!');
                trackUsage('qr', '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞', data.substring(0, 30));
            };
            img.onerror = () => {
                toast('–û—à–∏–±–∫–∞ QR', true);
                hide($('dQrResult'));
            };
            img.src = url;
        }

        async function dHash(algo) {
            const text = $('dCryptoIn').value;
            if (!text) return toast('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', true);
            $('dCryptoRes').textContent = await OKAK.hash(text, algo);
            show($('dCryptoRes'));
        }

        function dB64(mode) {
            const text = $('dCryptoIn').value;
            if (!text) return toast('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', true);
            try {
                $('dCryptoRes').textContent = OKAK.base64(text, mode);
                show($('dCryptoRes'));
            } catch (e) {
                toast('–û—à–∏–±–∫–∞', true);
            }
        }

        function dUUID() {
            $('dCryptoRes').textContent = OKAK.uuid();
            show($('dCryptoRes'));
        }

        // Doc tabs
        function showDocTab(tab) {
            document.querySelectorAll('.doc-section').forEach(s => hide(s));
            document.querySelectorAll('.doc-tab').forEach(t => {
                t.classList.remove('tab-active');
                t.classList.add('text-gray-400');
            });
            show($('doc-' + tab));
            document.querySelector(`.doc-tab[data-tab="${tab}"]`)?.classList.add('tab-active');
            document.querySelector(`.doc-tab[data-tab="${tab}"]`)?.classList.remove('text-gray-400');
        }

        function showDocsTab(tab) {
            document.querySelectorAll('.docs-sec').forEach(s => hide(s));
            document.querySelectorAll('.docs-tab').forEach(t => {
                t.classList.remove('tab-active');
                t.classList.add('text-gray-400');
            });
            show($('docs-' + tab));
            document.querySelector(`.docs-tab[data-tab="${tab}"]`)?.classList.add('tab-active');
            document.querySelector(`.docs-tab[data-tab="${tab}"]`)?.classList.remove('text-gray-400');
        }

        // Init
        async function init() {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö
            hide($('navLinksUser'));
            hide($('navLinksUserHome'));
            hide($('heroUser'));
            
            updateNav(true);
            showDocTab('quick');

            const uid = localStorage.getItem('okak_uid');
            if (uid) {
                const snap = await db.ref('okak_users/' + uid).once('value');
                if (snap.exists()) {
                    user = snap.val();
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–ª—é—á–∏ –∏ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                    const keysSnap = await db.ref('okak_keys').orderByChild('userId').equalTo(user.id).once('value');
                    keys = [];
                    keysSnap.forEach(child => keys.push(child.val()));
                    
                    const projSnap = await db.ref('okak_projects').orderByChild('userId').equalTo(user.id).once('value');
                    projects = [];
                    projSnap.forEach(child => projects.push(child.val()));
                    
                    showDashboard();
                }
            }
        }

        init();

        // Keyboard
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') {
                closeModal('authModal');
                closeModal('keyModal');
                closeModal('projModal');
                closeModal('templateModal');
                closeModal('webhookModal');
            }
        });

        // ========== NEW FEATURES ==========

        // Settings Stats
        function updateSettingsStats() {
            if (!user) return;
            $('setCreatedAt').textContent = new Date(user.createdAt).toLocaleDateString('ru');
            $('setTotalReqs').textContent = user.totalReqs || 0;
            $('setKeysCount').textContent = keys.length;
            $('setProjCount').textContent = projects.length;
        }

        // Change Password
        async function changePassword() {
            const newPwd = $('newPassword').value;
            const confirm = $('confirmPassword').value;
            
            if (!newPwd) return toast('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å', true);
            if (newPwd.length < 6) return toast('–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤', true);
            if (newPwd !== confirm) return toast('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', true);
            
            user.password = await hashPwd(newPwd);
            await db.ref('okak_users/' + user.id).update({ password: user.password });
            $('newPassword').value = '';
            $('confirmPassword').value = '';
            toast('–ü–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω—ë–Ω!');
        }

        // Export Data
        function exportMyData() {
            const data = {
                user: { name: user.name, email: user.email, createdAt: user.createdAt, totalReqs: user.totalReqs },
                keys: keys,
                projects: projects,
                templates: templates,
                webhooks: webhooks,
                exportedAt: Date.now()
            };
            downloadJSON('okak_my_data.json', data);
            toast('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
        }

        function exportMyKeys() {
            downloadJSON('okak_my_keys.json', keys);
            toast('–ö–ª—é—á–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
        }

        function downloadJSON(filename, data) {
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Clear Data
        async function clearMyData() {
            if (!confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ? –ö–ª—é—á–∏ –∏ –ø—Ä–æ–µ–∫—Ç—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è.')) return;
            await db.ref('okak_data/' + user.id).remove();
            loadDbTree();
            toast('–î–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã');
        }

        // ========== HISTORY ==========
        async function loadHistory() {
            const snap = await db.ref('okak_history').orderByChild('userId').equalTo(user.id).limitToLast(50).once('value');
            history = [];
            snap.forEach(child => history.unshift(child.val()));
            renderHistory();
        }

        function renderHistory() {
            const list = $('historyList');
            if (history.length === 0) {
                list.innerHTML = '<div class="text-gray-500 text-center py-8">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API!</div>';
                return;
            }
            list.innerHTML = history.map(h => `
                <div class="p-4 bg-black/20 rounded-xl flex items-start gap-3">
                    <span class="text-2xl">${getHistoryIcon(h.type)}</span>
                    <div class="flex-1 min-w-0">
                        <div class="font-semibold text-sm">${h.action}</div>
                        <div class="text-xs text-gray-500 mt-1">${new Date(h.time).toLocaleString('ru')}</div>
                        ${h.details ? `<div class="text-xs text-gray-400 mt-1 truncate">${h.details}</div>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function getHistoryIcon(type) {
            const icons = { ai: 'üß†', image: 'üé®', db: 'üóÑÔ∏è', qr: 'üì±', key: 'üîë', project: 'üìÅ' };
            return icons[type] || 'üìã';
        }

        function filterHistory(filter) {
            document.querySelectorAll('.history-filter').forEach(b => {
                b.classList.remove('bg-purple-500/20');
                b.classList.add('glass', 'text-gray-400');
            });
            document.querySelector(`.history-filter[data-filter="${filter}"]`)?.classList.add('bg-purple-500/20');
            document.querySelector(`.history-filter[data-filter="${filter}"]`)?.classList.remove('glass', 'text-gray-400');
            
            const list = $('historyList');
            const filtered = filter === 'all' ? history : history.filter(h => h.type === filter);
            
            if (filtered.length === 0) {
                list.innerHTML = '<div class="text-gray-500 text-center py-8">–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</div>';
                return;
            }
            
            list.innerHTML = filtered.map(h => `
                <div class="p-4 bg-black/20 rounded-xl flex items-start gap-3">
                    <span class="text-2xl">${getHistoryIcon(h.type)}</span>
                    <div class="flex-1 min-w-0">
                        <div class="font-semibold text-sm">${h.action}</div>
                        <div class="text-xs text-gray-500 mt-1">${new Date(h.time).toLocaleString('ru')}</div>
                        ${h.details ? `<div class="text-xs text-gray-400 mt-1 truncate">${h.details}</div>` : ''}
                    </div>
                </div>
            `).join('');
        }

        async function addHistory(type, action, details = '') {
            if (!user) return;
            const h = {
                id: genId(),
                userId: user.id,
                type,
                action,
                details,
                time: Date.now()
            };
            await db.ref('okak_history/' + h.id).set(h);
            history.unshift(h);
            if (history.length > 50) history = history.slice(0, 50);
        }

        // ========== TEMPLATES ==========
        async function loadTemplates() {
            const snap = await db.ref('okak_templates').orderByChild('userId').equalTo(user.id).once('value');
            templates = [];
            snap.forEach(child => templates.push(child.val()));
            renderTemplates();
        }

        function renderTemplates() {
            if (templates.length === 0) {
                $('templatesList').innerHTML = '';
                show($('noTemplates'));
                return;
            }
            hide($('noTemplates'));
            $('templatesList').innerHTML = templates.map(t => `
                <div class="glass rounded-xl p-6 card-hover">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="text-2xl">${t.type === 'ai' ? 'üß†' : t.type === 'image' ? 'üé®' : 'üóÑÔ∏è'}</span>
                        <div class="flex-1 min-w-0">
                            <div class="font-bold truncate">${t.name}</div>
                            <div class="text-xs text-gray-400">${t.type.toUpperCase()}</div>
                        </div>
                    </div>
                    <div class="text-sm text-gray-400 mb-3 line-clamp-2 mono">${t.content.substring(0, 100)}${t.content.length > 100 ? '...' : ''}</div>
                    ${t.description ? `<p class="text-xs text-gray-500 mb-3">${t.description}</p>` : ''}
                    <div class="flex gap-2">
                        <button onclick="useTemplate('${t.id}')" class="flex-1 py-2 gradient-bg rounded-lg text-sm font-semibold hover:opacity-90">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</button>
                        <button onclick="deleteTemplate('${t.id}')" class="px-3 py-2 bg-red-500/20 text-red-400 rounded-lg text-sm hover:bg-red-500/30">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        function openTemplateModal() {
            openModal('templateModal');
            $('templateName').value = '';
            $('templateContent').value = '';
            $('templateDesc').value = '';
        }

        async function createTemplate() {
            const name = $('templateName').value.trim();
            const content = $('templateContent').value.trim();
            
            if (!name) return toast('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ', true);
            if (!content) return toast('–í–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ', true);
            
            const t = {
                id: genId(),
                userId: user.id,
                name,
                type: $('templateType').value,
                content,
                description: $('templateDesc').value.trim(),
                createdAt: Date.now()
            };
            
            await db.ref('okak_templates/' + t.id).set(t);
            templates.push(t);
            renderTemplates();
            closeModal('templateModal');
            toast('–®–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞–Ω!');
        }

        function useTemplate(id) {
            const t = templates.find(x => x.id === id);
            if (!t) return;
            
            if (t.type === 'ai') {
                showDash('play');
                $('dAiPrompt').value = t.content;
            } else if (t.type === 'image') {
                showDash('play');
                $('dImgPrompt').value = t.content;
            } else {
                showDash('database');
                $('dbPath').value = t.content;
            }
            toast('–®–∞–±–ª–æ–Ω –ø—Ä–∏–º–µ–Ω—ë–Ω');
        }

        async function deleteTemplate(id) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω?')) return;
            await db.ref('okak_templates/' + id).remove();
            templates = templates.filter(t => t.id !== id);
            renderTemplates();
            toast('–®–∞–±–ª–æ–Ω —É–¥–∞–ª—ë–Ω');
        }

        // ========== WEBHOOKS ==========
        async function loadWebhooks() {
            const snap = await db.ref('okak_webhooks').orderByChild('userId').equalTo(user.id).once('value');
            webhooks = [];
            snap.forEach(child => webhooks.push(child.val()));
            renderWebhooks();
        }

        function renderWebhooks() {
            if (webhooks.length === 0) {
                $('webhooksList').innerHTML = '';
                show($('noWebhooks'));
                return;
            }
            hide($('noWebhooks'));
            $('webhooksList').innerHTML = webhooks.map(w => `
                <div class="glass rounded-xl p-6">
                    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 flex-wrap mb-2">
                                <span class="font-bold">${w.name}</span>
                                <span class="px-2 py-0.5 bg-purple-500/20 text-purple-300 rounded text-xs">${w.event}</span>
                                <span class="px-2 py-0.5 ${w.active ? 'bg-green-500/20 text-green-400' : 'bg-gray-500/20 text-gray-400'} rounded text-xs">
                                    ${w.active ? '‚úì –ê–∫—Ç–∏–≤–µ–Ω' : '‚úó –í—ã–∫–ª—é—á–µ–Ω'}
                                </span>
                            </div>
                            <div class="mono text-sm text-gray-400 break-all">${w.url}</div>
                            <div class="text-xs text-gray-500 mt-2">–°–æ–∑–¥–∞–Ω: ${new Date(w.createdAt).toLocaleDateString('ru')}</div>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="toggleWebhook('${w.id}')" class="px-4 py-2 glass rounded-lg hover:bg-white/10 transition text-sm">${w.active ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}</button>
                            <button onclick="testWebhook('${w.id}')" class="px-4 py-2 glass rounded-lg hover:bg-white/10 transition text-sm">üß™</button>
                            <button onclick="deleteWebhook('${w.id}')" class="px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition text-sm">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function openWebhookModal() {
            openModal('webhookModal');
            $('webhookName').value = '';
            $('webhookUrl').value = '';
            $('webhookSecret').value = '';
        }

        async function createWebhook() {
            const name = $('webhookName').value.trim();
            const url = $('webhookUrl').value.trim();
            
            if (!name) return toast('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ', true);
            if (!url || !url.startsWith('http')) return toast('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL', true);
            
            const w = {
                id: genId(),
                userId: user.id,
                name,
                url,
                event: $('webhookEvent').value,
                secret: $('webhookSecret').value.trim() || null,
                active: true,
                createdAt: Date.now()
            };
            
            await db.ref('okak_webhooks/' + w.id).set(w);
            webhooks.push(w);
            renderWebhooks();
            closeModal('webhookModal');
            toast('–í–µ–±—Ö—É–∫ –¥–æ–±–∞–≤–ª–µ–Ω!');
        }

        async function toggleWebhook(id) {
            const w = webhooks.find(x => x.id === id);
            if (!w) return;
            w.active = !w.active;
            await db.ref('okak_webhooks/' + id).update({ active: w.active });
            renderWebhooks();
            toast(w.active ? '–í–µ–±—Ö—É–∫ –≤–∫–ª—é—á—ë–Ω' : '–í–µ–±—Ö—É–∫ –≤—ã–∫–ª—é—á–µ–Ω');
        }

        async function testWebhook(id) {
            const w = webhooks.find(x => x.id === id);
            if (!w) return;
            
            toast('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å...');
            try {
                await fetch(w.url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    mode: 'no-cors',
                    body: JSON.stringify({
                        event: 'test',
                        timestamp: Date.now(),
                        data: { message: 'Test webhook from OKAK API' }
                    })
                });
                toast('–¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!');
            } catch (e) {
                toast('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏', true);
            }
        }

        async function deleteWebhook(id) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å –≤–µ–±—Ö—É–∫?')) return;
            await db.ref('okak_webhooks/' + id).remove();
            webhooks = webhooks.filter(w => w.id !== id);
            renderWebhooks();
            toast('–í–µ–±—Ö—É–∫ —É–¥–∞–ª—ë–Ω');
        }

        // Track API usage
        async function trackUsage(type, action, details = '') {
            await incReqs();
            await addHistory(type, action, details);
        }
    </script>
</body>
</html>
